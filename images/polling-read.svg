<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="230px" preserveAspectRatio="none" style="width:691px;height:230px;background:#FFFFFF;" version="1.1" viewBox="0 0 691 230" width="691px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="152.7969" style="stroke:#000000;stroke-width:1.5;" width="675.5" x="10" y="53.2969"/><rect fill="none" height="92.5313" style="stroke:#000000;stroke-width:1.5;" width="655.5" x="20" y="106.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="92" x2="92" y1="36.2969" y2="223.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="614.5" x2="614.5" y1="36.2969" y2="223.0938"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="37" y="24.9951">Data Consumer</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="564.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="571.5" y="24.9951">Data Source</text><path d="M10,53.2969 L88,53.2969 L88,60.4297 L78,70.4297 L10,70.4297 L10,53.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="152.7969" style="stroke:#000000;stroke-width:1.5;" width="675.5" x="10" y="53.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="66.3638">loop</text><polygon fill="#181818" points="603,87.5625,613,91.5625,603,95.5625,607,91.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="92" x2="609" y1="91.5625" y2="91.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="499" x="99" y="86.4966">1a. GET base/SomeResource/[some resource id] with If-updated-since header</text><path d="M20,106.5625 L86,106.5625 L86,113.6953 L76,123.6953 L20,123.6953 L20,106.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="92.5313" style="stroke:#000000;stroke-width:1.5;" width="655.5" x="20" y="106.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="35" y="119.6294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="86" x="101" y="118.7729">[No updates]</text><polygon fill="#181818" points="103,140.8281,93,144.8281,103,148.8281,99,144.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="97" x2="614" y1="144.8281" y2="144.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="109" y="139.7622">1b. HTTP 302</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="675.5" y1="153.8281" y2="153.8281"/><polygon fill="#181818" points="103,187.0938,93,191.0938,103,195.0938,99,191.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="97" x2="614" y1="191.0938" y2="191.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="109" y="170.895">1c. new some resource version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="422" x="109" y="186.0278">(use _lastUpdated in If-updated-since header of subsequent polls)</text><!--MD5=[0ecfd6e41cbe1791e4fc97aa9c787346]
@startuml
hide footbox
participant "Data Consumer" as Consumer
participant "Data Source" as Source
loop
  Consumer -> Source: 1a. GET base/SomeResource/[some resource id] with If-updated-since header
  alt No updates
    Consumer <- - Source: 1b. HTTP 302
  else 
    Consumer <- - Source: 1c. new some resource version\n(use _lastUpdated in If-updated-since header of subsequent polls)
  end
end
@enduml

PlantUML version 1.2022.8beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>