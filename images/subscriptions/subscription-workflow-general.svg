<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1333px" preserveAspectRatio="none" style="width:927px;height:1333px;background:#FFFFFF;" version="1.1" viewBox="0 0 927 1333" width="927px" zoomAndPan="magnify"><defs><filter height="300%" id="f1sy61tprr9qyl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1sy61tprr9qyl)" height="153.5313" style="stroke:#000000;stroke-width:2.0;" width="415.5" x="10" y="61.2969"/><rect fill="#FFFFFF" filter="url(#f1sy61tprr9qyl)" height="277.8359" style="stroke:#000000;stroke-width:2.0;" width="903.5" x="10" y="228.8281"/><rect fill="#FFFFFF" height="115.3359" style="stroke:none;stroke-width:1.0;" width="903.5" x="10" y="249.9609"/><rect fill="#FFFFFF" height="141.3672" style="stroke:none;stroke-width:1.0;" width="903.5" x="10" y="365.2969"/><rect fill="#FFFFFF" filter="url(#f1sy61tprr9qyl)" height="748.7422" style="stroke:#000000;stroke-width:2.0;" width="903.5" x="10" y="520.6641"/><rect fill="#FFFFFF" height="127.0703" style="stroke:none;stroke-width:1.0;" width="903.5" x="10" y="541.7969"/><rect fill="#FFFFFF" height="266.7344" style="stroke:none;stroke-width:1.0;" width="903.5" x="10" y="668.8672"/><rect fill="#FFFFFF" height="223.6016" style="stroke:none;stroke-width:1.0;" width="903.5" x="10" y="935.6016"/><rect fill="#FFFFFF" height="110.2031" style="stroke:none;stroke-width:1.0;" width="903.5" x="10" y="1159.2031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="120" y1="44.2969" y2="636.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="120" x2="120" y1="636.8672" y2="668.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="120" y1="668.8672" y2="903.6016"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="120" x2="120" y1="903.6016" y2="935.6016"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="120" y1="935.6016" y2="1127.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="120" x2="120" y1="1127.2031" y2="1159.2031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120" x2="120" y1="1159.2031" y2="1286.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488" x2="488" y1="44.2969" y2="636.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="488" x2="488" y1="636.8672" y2="668.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488" x2="488" y1="668.8672" y2="903.6016"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="488" x2="488" y1="903.6016" y2="935.6016"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488" x2="488" y1="935.6016" y2="1127.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="488" x2="488" y1="1127.2031" y2="1159.2031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488" x2="488" y1="1159.2031" y2="1286.4063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="811.5" x2="811.5" y1="418.75" y2="636.8672"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="811.5" x2="811.5" y1="636.8672" y2="668.8672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="811.5" x2="811.5" y1="668.8672" y2="903.6016"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="811.5" x2="811.5" y1="903.6016" y2="935.6016"/><line style="stroke:#A80036;stroke-width:1.0;" x1="811.5" x2="811.5" y1="935.6016" y2="1127.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="811.5" x2="811.5" y1="1127.2031" y2="1159.2031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="811.5" x2="811.5" y1="1159.2031" y2="1286.4063"/><rect fill="#FEFECE" filter="url(#f1sy61tprr9qyl)" height="34.2969" style="stroke:#A80036;stroke-width:1.5;" width="97" x="70" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="79" y="26.9951">FHIR Server</text><rect fill="#FEFECE" filter="url(#f1sy61tprr9qyl)" height="34.2969" style="stroke:#A80036;stroke-width:1.5;" width="97" x="70" y="1285.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="79" y="1307.4014">FHIR Server</text><rect fill="#FEFECE" filter="url(#f1sy61tprr9qyl)" height="34.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="458" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="467" y="26.9951">Client</text><rect fill="#FEFECE" filter="url(#f1sy61tprr9qyl)" height="34.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="458" y="1285.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="467" y="1307.4014">Client</text><rect fill="#FEFECE" filter="url(#f1sy61tprr9qyl)" height="34.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="769.5" y="1285.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="778.5" y="1307.4014">Endpoint</text><path d="M10,61.2969 L227,61.2969 L227,72.2969 L217,82.2969 L10,82.2969 L10,61.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="153.5313" style="stroke:#000000;stroke-width:2.0;" width="415.5" x="10" y="61.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="168" x="27" y="76.3638">Server Implementation</text><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="162.5" y1="107.5625" y2="107.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="162.5" x2="162.5" y1="107.5625" y2="120.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121.5" x2="162.5" y1="120.5625" y2="120.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121.5" x2="131.5" y1="120.5625" y2="116.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="100.4966">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="146.5" y="100.4966">Implement core Subscription functionality</text><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="162.5" y1="193.8281" y2="193.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="162.5" x2="162.5" y1="193.8281" y2="206.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121.5" x2="162.5" y1="206.8281" y2="206.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121.5" x2="131.5" y1="206.8281" y2="202.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="179.1958">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="146.5" y="171.6294">Implement topics and advertise via</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="136" x="146.5" y="186.7622">SubscriptionTopic</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="286.5" y="186.7622">resources</text><path d="M10,228.8281 L222,228.8281 L222,239.8281 L212,249.8281 L10,249.8281 L10,228.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="277.8359" style="stroke:#000000;stroke-width:2.0;" width="903.5" x="10" y="228.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="163" x="27" y="243.895">Client Implementation</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="913.5" y1="250.9609" y2="250.9609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="153" x="17" y="263.1714">[Client Topic Discovery]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="130.5" y1="309.0313" y2="305.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="130.5" y1="309.0313" y2="313.0313"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="487.5" y1="309.0313" y2="309.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="139.5" y="294.3989">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="156.5" y="286.8325">Search for a supported</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="136" x="307.5" y="286.8325">SubscriptionTopic</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="443.5" y="286.8325">, e.g.:</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="272" x="156.5" y="301.9653">GET .../SubscriptionTopic?[params]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="357.2969" y2="353.2969"/><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="357.2969" y2="361.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="120.5" x2="487.5" y1="357.2969" y2="357.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="342.6646">4</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="48" x="146.5" y="335.0981">Bundle</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="198.5" y="335.0981">with matching</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="136" x="146.5" y="350.231">SubscriptionTopic</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="286.5" y="350.231">resources</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="913.5" y1="366.2969" y2="366.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="188" x="17" y="378.5073">[Client Subscription Request]</text><polygon fill="#A80036" points="757.5,420.3672,767.5,424.3672,757.5,428.3672,761.5,424.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="488.5" x2="763.5" y1="424.3672" y2="424.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="497.5" y="409.7349">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="514.5" y="402.1685">Create, configure, or initialize</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="514.5" y="417.3013">the necessary Endpoint</text><rect fill="#FEFECE" filter="url(#f1sy61tprr9qyl)" height="34.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="769.5" y="384.1016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="778.5" y="406.0967">Endpoint</text><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="130.5" y1="473.6641" y2="469.6641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="130.5" y1="473.6641" y2="477.6641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="487.5" y1="473.6641" y2="473.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="139.5" y="459.0317">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="156.5" y="451.4653">Create a Subscription, e.g.:</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="168" x="156.5" y="466.5981">POST .../Subscription</text><path d="M10,520.6641 L390,520.6641 L390,531.6641 L380,541.6641 L10,541.6641 L10,520.6641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="748.7422" style="stroke:#000000;stroke-width:2.0;" width="903.5" x="10" y="520.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="331" x="27" y="535.731">Server Accepting or Rejecting a Subscription</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="913.5" y1="542.7969" y2="542.7969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="258" x="17" y="555.0073">[Valid Subscription, without Handshake]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="585.7344" y2="581.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="585.7344" y2="589.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="120.5" x2="487.5" y1="585.7344" y2="585.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="578.6685">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="146.5" y="578.6685">Success: status =</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="48" x="266.5" y="578.6685">active</text><path d="M125,598.7344 L125,627.7344 L276,627.7344 L276,608.7344 L266,598.7344 L125,598.7344 " fill="#FBFB77" filter="url(#f1sy61tprr9qyl)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M266,598.7344 L266,608.7344 L276,608.7344 L266,598.7344 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="133" y="617.8013">Send notifications...</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="913.5" y1="669.8672" y2="669.8672"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="293" x="17" y="682.0776">[Valid Subscription, with Handshake Success]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="712.8047" y2="708.8047"/><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="712.8047" y2="716.8047"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="120.5" x2="487.5" y1="712.8047" y2="712.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="705.7388">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="146.5" y="705.7388">Success: status =</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="72" x="266.5" y="705.7388">requested</text><line style="stroke:#A80036;stroke-width:1.0;" x1="809.5" x2="799.5" y1="745.9375" y2="741.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="809.5" x2="799.5" y1="745.9375" y2="749.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="810.5" y1="745.9375" y2="745.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="738.8716">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="146.5" y="738.8716">Handshake</text><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="130.5" y1="794.2031" y2="790.2031"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="130.5" y1="794.2031" y2="798.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="120.5" x2="810.5" y1="794.2031" y2="794.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="139.5" y="779.5708">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="165.5" y="772.0044">Success, e.g.:</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="56" x="165.5" y="787.1372">200: OK</text><path d="M125,807.2031 L125,851.2031 L358,851.2031 L358,817.2031 L348,807.2031 L125,807.2031 " fill="#FBFB77" filter="url(#f1sy61tprr9qyl)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M348,807.2031 L348,817.2031 L358,817.2031 L348,807.2031 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="133" y="826.27">Update Subscription:</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="208" x="133" y="841.4028">Subscription.status: active</text><path d="M125,865.4688 L125,894.4688 L276,894.4688 L276,875.4688 L266,865.4688 L125,865.4688 " fill="#FBFB77" filter="url(#f1sy61tprr9qyl)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M266,865.4688 L266,875.4688 L276,875.4688 L266,865.4688 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="133" y="884.5356">Send notifications...</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="913.5" y1="936.6016" y2="936.6016"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="286" x="17" y="948.812">[Valid Subscription, with Handshake Failure]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="979.5391" y2="975.5391"/><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="979.5391" y2="983.5391"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="120.5" x2="487.5" y1="979.5391" y2="979.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="972.4731">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="155.5" y="972.4731">Success: status =</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="72" x="275.5" y="972.4731">requested</text><line style="stroke:#A80036;stroke-width:1.0;" x1="809.5" x2="799.5" y1="1012.6719" y2="1008.6719"/><line style="stroke:#A80036;stroke-width:1.0;" x1="809.5" x2="799.5" y1="1012.6719" y2="1016.6719"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="810.5" y1="1012.6719" y2="1012.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1005.606">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="155.5" y="1005.606">Handshake</text><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="130.5" y1="1060.9375" y2="1056.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="120.5" x2="130.5" y1="1060.9375" y2="1064.9375"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="120.5" x2="810.5" y1="1060.9375" y2="1060.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="139.5" y="1046.3052">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="165.5" y="1038.7388">Failure, e.g.:</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="112" x="165.5" y="1053.8716">404: Not Found</text><path d="M125,1073.9375 L125,1117.9375 L358,1117.9375 L358,1083.9375 L348,1073.9375 L125,1073.9375 " fill="#FBFB77" filter="url(#f1sy61tprr9qyl)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M348,1073.9375 L348,1083.9375 L358,1083.9375 L348,1073.9375 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="133" y="1093.0044">Update Subscription:</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="208" x="133" y="1108.1372">Subscription.status: error</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="913.5" y1="1160.2031" y2="1160.2031"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="137" x="17" y="1172.4136">[Invalid Subscription]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="1218.2734" y2="1214.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="486.5" x2="476.5" y1="1218.2734" y2="1222.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="120.5" x2="487.5" y1="1218.2734" y2="1218.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1203.6411">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="155.5" y="1196.0747">Failure, e.g.:</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="128" x="155.5" y="1211.2075">400: Bad Request</text><path d="M125,1231.2734 L125,1260.2734 L330,1260.2734 L330,1241.2734 L320,1231.2734 L125,1231.2734 " fill="#FBFB77" filter="url(#f1sy61tprr9qyl)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M320,1231.2734 L320,1241.2734 L330,1241.2734 L320,1231.2734 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="133" y="1250.3403">No subscription was created</text><!--MD5=[eca41cbf3ff3aa6a21e09ee69644a362]
@startuml
skinparam NoteTextAlignment left
skinparam Padding 2
skinparam ParticipantPadding 50
skinparam LifelineStrategy solid
autonumber

participant "FHIR Server" as S
participant Client      as C

group Server Implementation
  S -\\ S: Implement core Subscription functionality
  |||
  S -\\ S: Implement topics and advertise via\n""SubscriptionTopic"" resources
end

group Client Implementation
else Client Topic Discovery
  C->>S: Search for a supported ""SubscriptionTopic"", e.g.:\n""GET .../SubscriptionTopic?[params]""
  return ""Bundle"" with matching\n""SubscriptionTopic"" resources

else Client Subscription Request
  create Endpoint as E
  C->E: Create, configure, or initialize\nthe necessary Endpoint
  C->>S: Create a Subscription, e.g.:\n""POST .../Subscription""
  |||
end

group Server Accepting or Rejecting a Subscription
else Valid Subscription, without Handshake
  S- ->>C: Success: status = ""active""
  note right of S: Send notifications...
  ...
else Valid Subscription, with Handshake Success
  S- ->>C: Success: status = ""requested""
  S->>E: Handshake
  E- ->>S: Success, e.g.:\n""200: OK""
  note right of S
    Update Subscription:
    ""Subscription.status: active""
  end note
  note right of S: Send notifications...
  ...
else Valid Subscription, with Handshake Failure
  S- ->>C: Success: status = ""requested""
  S->>E: Handshake
  E- ->>S: Failure, e.g.:\n""404: Not Found""
  note right of S
    Update Subscription:
    ""Subscription.status: error""
  end note
  ...
else Invalid Subscription
  S- ->>C: Failure, e.g.:\n""400: Bad Request""
  note right of S
    No subscription was created
  end note
end
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>