map "http://hl7.org/fhir/StructureMap/Signature2to3" = "R2 to R3 Conversions for Signature"

uses "http://hl7.org/fhir/StructureDefinition/Signature" as source
uses "http://hl7.org/fhir/StructureDefinition/SignatureR2" as target


group Signature extends Element
  input src : SignatureR2 as source
  input tgt : Signature as Target

  "Signature-type" : for src.type as vs make tgt.type as vt then Coding(vs,vt)
  "Signature-when" : for src.when as vs make tgt.when as vt then instant(vs, vt)
  "Signature-who-uri" : for src.who  : uri as vs make tgt.who = create("uri") as vt then uri(vs,vt)
  "Signature-who-Reference" : for src.who  : Reference as vs make tgt.who = create("Reference") as vt then Reference(vs,vt)
  "Signature-contentType" : for src.contentType as vs make tgt.contentType as vt then code(vs, vt)
  "Signature-blob" : for src.blob as vs make tgt.blob as vt then base64Binary(vs, vt)
endgroup

