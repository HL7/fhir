<div xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/1999/xhtml ../../schema/fhir-xhtml.xsd" xmlns="http://www.w3.org/1999/xhtml">

<div>
<h2>Scope and Usage</h2>
<p> 
A Composition is also the basic structure from which <a href="documents.html">FHIR Documents</a> - 
immutable bundles with attested narrative - are built. A single logical composition may be 
associated with a series of derived documents, each of which is a frozen copy of the 
composition.
</p>

<p>
Note: <a href="http://en.wikipedia.org/wiki/EN_13606">EN 13606</a> uses the term "Composition" 
to refer to a single commit to an EHR system, and offers some common examples: a consultation 
note, a progress note, a report or a letter, an investigation report, a prescription form 
and a set of bedside nursing observations. These logical examples are all valid uses of a 
Composition resource, but it is not required that all the resources are updated in 
a single commit.
</p>
</div>

<div>
<h2>Boundaries and Relationships</h2>
<p>
Composition is a structure for grouping information for purposes of persistance and attestability.  There
are several other grouping structures in FHIR with distinct purposes:
</p>
<ul>
<li>
The <a href="list.html">List</a> resource - enumerates a flat collection of resources and provides features for managing the collection.  
While a particular List instance may represent a "snapshot", from a business process perspective the notion of "List" 
is dynamic – items are added and removed over time.  The list resource references other resources.  Lists may be 
curated and have specific business meaning.
</li>
<li>
The <a href="group.html">Group</a> resource - defines a group of specific people, animals, devices, etc. by enumerating them, 
or by describing qualities that group members have. The group resource refers to other resources, possibly implicitly.  
Groups are intended to be acted upon or observed as a whole.  E.g. performing therapy on a group, calculating risk for a group, 
etc.  This resource will commonly be used for public health (e.g. describing an at-risk population), clinical trials (e.g. 
defining a test subject pool) and similar purposes.
</li>
<li>
The <a href="bundle.html">Bundle</a> resource is an infrastructure container for a group of resources.  It does not have narrative 
and is used to group collections of resources for transmission, persistence or processing (e.g. messages, documents, transactions, 
query responses, etc.)  The content of bundles is typically algorithmically determined for a particular exchange or persistence purpose.
</li>
<li>
The <a href="composition.html">Composition</a> resource – defines a set of healthcare-related information that is assembled 
together into a single logical document that provides a single coherent statement of meaning, establishes its own context and 
that has clinical attestation with regard to who is making the statement. The composition resource provides the basic structure 
of a FHIR <a href="documents.html">document</a>.  The full content of the document is expressed using a bundle.  Compositions will 
often reference Lists as the focus of particular sections.
</li>
</ul>

<p>
While a Composition organizes clinical and administrative content, it doesn't directly contain any of this information.  The
content of the various sections defined by a Composition are satisfied by the resources pointed to by those sections.  The 
complete set of content to make up a document includes the Composition resource together with various resources pointed to or indirectly
connected to the Composition all gathered together into a <a href="bundle.html">Bundle</a> for transport and persistence.
</p>
</div>

<div>
<h2>Background and Context</h2>
<a name="status"> </a>
<h3>Composition Status Codes</h3>
<p>
Every composition has a status, which describes the status of the content of the composition, taken from this list of codes:
</p>
<table class="grid">
 <tr> <td><b>Code</b></td> <td><b>Definition</b></td> </tr>
 <tr> <td>preliminary</td> <td>This is a preliminary composition (also known as initial or interim). The content may be incomplete or unverified.</td> </tr>
 <tr> <td>final</td> <td>The composition is complete and verified by an appropriate person and no further work is planned</td> </tr>
 <tr> <td>appended</td> <td>The composition has been modified subsequent to being marked and/or released as "final" and is complete and verified by an authorized person. The modifications added new information to the composition, but did not revise existing content</td> </tr>
 <tr> <td>amended</td> <td>The composition content or the referenced resources have been modified subsequent to being released as "final" and the composition is complete and verified by an authorized person</td> </tr>
 <tr> <td>retracted</td> <td>The composition was originally created/issued in error and this is an amendment that marks that the entire composition and any past versions or copies should not be considered as valid</td> </tr>
</table>
<p>
Composition status generally only moves down through this list - it moves from preliminary to final and then it may progress to either appended or amended. 
Note that in many workflows, only final compositions are made available and the preliminary status is not used. 
</p>
<p>
A very few compositions are created entirely in error in the workflow - usually the composition concerns the wrong patient or is written by the wrong author,
and the error is only detected after the composition has been used or documents have been derived from it. To support resolution of this case, 
the composition is updated to be marked as "retracted" and a new derived document can be created. This means that the entire series of derived 
documents is now considered to be created in error and systems receiving derived documents based on retracted compositions
SHOULD remove data taken from earlier documents from routine use and/or take other appropriate actions. Systems are not required to 
provide this workflow or support documents derived from retracted compositions, but they SHALL NOT ignore a status of retracted. 
Note that systems that handle compositions or derived documents and don't support the retracted status need to define 
some other way of handling compositions that are created in error; while this is not a common occurrence, some clinical systems 
have no provision for removing erroneous information from a patient's record and there is no way for a user to know that it is not fit for use -
this is not safe. 
</p>

<a name="cda"> </a>
<h3>Note for CDA aware readers</h3>

<p>
Many users of this specification are familiar with the <a href="http://www.hl7.org/implement/standards/product_brief.cfm?product_id=7">Clinical Document Architecture</a> (CDA) and related specifications.
CDA is a primary design input to the composition resource (other principle inputs are other HL7 document specifications, and EN13606). There are two important structural 
differences between CDA and the composition resource:
</p>
<ul>
 <li>A composition is a logical construct- its identifier matches to the CDA ClinicalDocument.setId. 
 Composition resources are wrapped into <a href="documents.html">Document</a> structures, for exchange
 of the whole package (the composition and its parts), and this wrapped, sealed entity is equivalent to a CDA document, 
 where the Bundle.id is equivalent in function to ClinicalDocument.id (but not identical, if interconverting, since it's a transform between them)</li>
 <li>The composition section defines a section (or sub-section) of the document, but unlike in CDA, the section content is 
   actually a reference to another <a href="resourcelist.html">resource</a> that actually holds both the narrative 
   and data content for the section. This design means that the narrative and data can be reused in many other ways. 
   Note that the most common resource to use for the content of a section is the <a href="list.html">List</a> resource.
   When a composition and its lists are wrapped into <a href="documents.html">Document</a>, the List narrative 
   is part of the 'attested content' (see below), and an indivisible part of the document.
   </li>
</ul>
<p>
In addition, note that both the code lists (e.g. <a href="composition-status.html">Composition status</a>) and the composition resource are <a href="composition-mappings.html">mapped</a> to v3 and/or CDA.
</p>
</div>

</div>
