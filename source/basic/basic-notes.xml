<div xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/1999/xhtml ../../schema/fhir-xhtml.xsd" xmlns="http://www.w3.org/1999/xhtml">

<a name="why"></a>
<h2>Why not custom resources?</h2>
<p>
Technically, nothing prevents implementers from going off and defining their own resources containing
whatever data elements they wish.  However, doing so causes several issues:
</p>
<ul>
  <li>Custom resources don't have a discoverability mechanism in the same way custom codes and extensions
  do using the <a href="valueset.html">ValueSet</a> and <a href="structuredefinition.html">StructureDefinition</a> resources.  As a 
  result, any implementer that receives a custom resource would have no way of looking up what the meaning 
  of the resource or its elements were.  While they could get some sense of meaning from XML or JSON tag names, this often 
  isn't sufficient for safe healthcare interoperability.</li>
  <li>Custom resource names would not be present in the FHIR schemas as allowed elements within the FHIR
  Bundle schema, would not be present in the enumeration of resources in the Reference type, and would not be supported by any of the autogenerated reference implementations and software interfaces.
 This would cause issues for any receiving system making use of the schemas directly or via code-generation.</li>
  <li>There is no means of preventing two implementers from independently coming up with the same name for
  a resource but defining it differently in terms of meaning as well as allowed elements.  This would also cause
  interoperability issues.</li>
</ul>
<p>
All of these concerns are mitigated when there's an assumption that the custom resource will only be used
within a narrow constrained environment where all participants will be aware of the semantics, will be using
the same custom schemas and there's no chance of collisions.  However, HL7's experience is that closed
implementation environments rarely remain that way over the long term.  Eventually data will need to be
shared with others outside the closed environment and all of the above issues will again come into play.
</p>
<p>
Therefore, use of 'custom' resources is <b>NOT</b> considered to be conformant with FHIR.  While the use of
extensions may make the Basic resource slightly more complex and less visually appealing, it is the only safe
and approved mechanism for sharing resource concepts not representable using standard HL7-defined resources.
</p>
<p>
It is expected that future versions of the interface tooling will be able to generate object interfaces on the
basis of profiles.  Where this occurs, the complexity of custom resource elements being expressed as extensions
should be transparent to the internal code of systems that support that particular variant of the Basic resource.
This should further reduce the cost of using 'Basic' as opposed to custom resources.
</p>
<p>
NOTE: This position is subject to change based on implementation experience.  Alternative mechanisms for
handling custom resource requirements in a safe manner may be explored.  Ideas around alternative technical 
strategies for managing this issue are welcome.
</p>

<a name="docs"></a>
<h2>Documents and narrative-only resources</h2>
<p>
Documents are constructed of sections, where a key part of each section is the narrative.  The narratives
are stitched together to form the overall text of the document.  Many document sections will correspond neatly to
resources that are already defined - <a href="list.html">List</a>, <a href="diagnosticreport.html">DiagnosticReport</a>,
<a href="familymemberhistory.html">FamilyMemberHistory</a>, etc.  However, oddly enough, alignment with FHIR resources isn't
always in mind when clinicians and others design documents, and some sections won't neatly align with the
boundaries of resources.  Sometimes there's simply a need for a place where a document author can say "stuff"
without any particular constraints on what they may choose to talk about.  Basic is intended to provide a
mechanism to handle those circumstances.
</p>
<p>
Wherever possible, the "standard" FHIR resources SHOULD be used, even for narrative-only content.  That's because
subsequent revisions of the narrative-only content might choose to encode pieces or even all of the narrative content.
Encoding can occur with "Basic" as well.  Extensions can point to other resources (contained or stand-alone) that
fully encode pieces of the free-form narrative found in the Basic resource.  If no appropriate other resource exists
for the meaning of the content, extensions can also be used.
</p>

<a name="ref"></a>
<h2>Referencing Basic resources</h2>
<p>
None of the standard resources will have direct references to Basic, aside from those that allow linking to
"Any" resource.  As a result, most references to "Basic" will need to be performed using extensions.
</p>

<a name="canonical"></a>
<h3>Basic as a Canonical Resource Wrapper</h3>
<p>
When using <a href="versions.html#extensions">cross-version extensions</a> to represent canonical resources that do
not exist in the FHIR version being used (such as resource types introduced in later FHIR versions), the Basic resource can serve
as a wrapper to represent those canonical resources. In such cases:
</p>
<ul>
  <li>The Basic resource <em>can</em> be treated as representing a canonical resource for referencing purposes</li>
  <li>References to the Basic resource from cross-version extensions can use canonical reference patterns</li>
  <li>The <code>code</code> element SHALL identify that the Basic instance represents a canonical resource type</li>
</ul>
<p>
This pattern enables implementers to work with canonical resources from other FHIR versions while maintaining
compatibility with version-specific infrastructure. See the <a href="versions.html#extensions">versions page</a> 
and the cross-version extension packages for more details on this approach.
</p>

<h4>Search Parameters against Basic</h4>
<p>
  Custom <a href="searchparameter.html">SearchParameters</a> can be defined against a <code>Basic</code> resource 
  profile in the same manner as any other resource. However, because of the wide range of concepts that can be 
  conveyed via <code>Basic</code>, the opportunity for collisions in the naming of search parameters is higher. 
  While collisions <em>can</em> be resolved using the standard mechanism (checking parameter codes via the
  <code>CapabilityStatement</code> and resolving canonical definitions), best practice is for search parameter codes 
  to include the conceptual resource name represented as a prefix. For example, rather than defining a search parameter 
  called <code>effectiveDate</code>, it would be better to have the search parameter code be 
  <code>application-renewal-effective-date</code>. This same convention is recommended if leveraging <code>Basic</code> 
  to represent resources during inter-version conversion (e.g., a future or legacy resource). For example, a search 
  parameter might be coded as <code>personal-relationship-source</code> rather than just <code>source</code>.
</p>
<p>
  Note that authors and implementers MAY still define and support non-prefixed codes; this guidance is an aid to 
  interoperability and governance.
</p>

<a name="bp"></a>
<h2>Best practices for using 'Basic'</h2>
<p>
There are several good practices to follow when making use of the Basic resource:
</p>
<ol>
  <li>Before using Basic, post a description of the desired resource type on <a href="https://chat.fhir.org">chat.fhir.org</a> or on
  <a href="http://stackoverflow.com/questions/tagged/hl7_fhir">Stack Overflow</a> to see whether the
  use-case can be met by an existing resource.  (Sometimes the intended scope of an existing resource won't 
  be clear, even if the intent is to cover your space.)  Using an existing resource is usually preferable
  to using Basic as it significantly increases the likelihood of interoperability.</li>
  
  <li>If an existing resource would normally be a good fit for your use-case but can't be used due to
  overly prescriptive constraints your implementation is unable to meet, again raise the problem on
  <a href="http://stackoverflow.com/questions/tagged/hl7_fhir">Stack Overflow</a> so the problem with the
  specification can be addressed.</li>
  
  <li>If it is necessary to make use of the Basic resource, try to use one of the HL7-defined codes for
  resource type or submit your requirement for a new type for inclusion in the HL7 vocabulary (using the <a target="_blank" href="http://hl7.org/fhir-issues">Propose a change</a> link), as this will
  increase the likelihood of interoperability.  Alternate code systems are conformant, but are less likely to
  be recognized or re-used across the healthcare implementation space.</li>
  
  <li>Architect your interface in a way that will make it less painful to swap your use of Basic with an
  'official' resource in the event that a future release of FHIR formally defines a resource that encompasses
  your use-case.</li>
  
  <li>Use a <a href="structuredefinition.html">StructureDefinition</a> to define the extensions relevant to each type of other resource used.
  Profiles can also be used to define additional search criteria appropriate for the resource.</li>
  
  <li>When defining a profile on Basic, include mappings to the w5 categories to allow systems to easily manage 
  <a href="auditevent.html">AuditEvent</a> and <a href="provenance.html">Provenance</a> uses as well as other potential
  higher-level abstractions of the data.</li>
  
  <li>As well, profiles should consider how best to handle common notions such as "entered in error" status and alignment
  with common practices within similar resource families (other request resources, medication-related resources), etc.
  </li>
</ol>

</div>
