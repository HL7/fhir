<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Data Types - FHIR v[%version%]</title>
    <link rel="Stylesheet" href="fhir.css" type="text/css"/>
    <link rel="Stylesheet" href="fhir-print.css" type="text/css" media="print" />
</head>

<body>
[%sidebar%]

[%maindiv%]
[%dtheader%]
<!--
 no repeating primitives in datatypes? No id's on primitives in datatypes...No dar on primitives in datatypes. It would be worthwile to document that and the reason for it.
-->

[%onthispage Primitive Types#primitive|Data Types#Types|Other Types#other%]

<h1>Data Types</h1>

<p>
The FHIR specification defines a set of types that are used for the 
resource elements. There are two categories of data type: simple / primitive types, imported from XML schema, and complex types, which are re-usable clusters of elements
</p>

[-%map alltypes%-]
<p align="left">
<img alt="Data Type Index" src="alltypes.png"  usemap="#alltypes"/>
</p>
<p>
The data types are available as a <a href="fhir-base.xsd">W3C Schema</a>.
</p>

<a name="primitive"></a>
<h2>Primitive Types</h2>
<p style="text-alignment: left">

<img alt="Primitive Types" src="primitives.png"/>
</p>
<a name="imports"></a>
<p>
The following table summarizes the primitive types and their simple restrictions that
are used in throughout this specification. These types 
are those defined in the <a href="http://www.w3.org/TR/xmlschema-2/">W3C Schema (1.0) specification part 2</a>, 
with additional constraints marked in bold. 
</p>

<a name="boolean"> </a>
<a name="integer"> </a>
<a name="decimal"> </a>
<a name="base64Binary"> </a>
<a name="instant"> </a>
<a name="string"> </a>
<a name="uri"> </a>
<a name="date"> </a>
<a name="dateTime"> </a>

 
<table class="list">
 <tr>
   <td colspan="3"><b>Primitive Types</b></td>
 </tr>
 <tr>
   <th>FHIR Name</th><th>Schema type</th><th>Description</th>
 </tr>
 <tr>
   <td>boolean</td><td>xs:boolean</td><td>Values can be either true or false (<b>0 and 1 are not valid values</b>)</td>
 </tr>
 <tr>
   <td>integer</td><td>xs:int</td><td>A signed 32-bit integer (for larger values, use decimal)</td>
 </tr>
 <tr>
   <td>decimal</td><td>xs:decimal</td><td>A rational number. Note: for implementations, do not use a IEEE type floating point 
      type, instead use something that works like a true decimal, with inbuilt precision (e.g. Java BigDecimal)</td>
 </tr>
 <tr>
   <td>base64Binary</td><td>xs:base64Binary</td><td>A stream of bytes, base64 encoded (<a href="http://tools.ietf.org/html/rfc4648">RFC 4648</a>)</td>
 </tr>
 <tr>
   <td>instant</td><td>xs:dateTime</td><td>An instant in time - <b>known at least to the second and always includes a timezone</b>. 
   Note: This type is for system times, not human times (see date and dateTime below).</td>
 </tr>
 <tr>
   <td>string</td><td>xs:string</td><td>A sequence of Unicode characters. <b>Note that strings SHALL not exceed 1MB in size</b></td>
 </tr>
 <tr>
   <td>uri</td><td>xs:anyURI</td><td>A Uniform Resource Identifier Reference. It can be absolute or relative, 
    and may have an optional fragment identifier (<a href="http://tools.ietf.org/html/rfc3986">RFC 3986</a>)</td>
 </tr>
 <tr><td>date</td><td>union of xs:date, xs:gYearMonth, xs:gYear</td><td>A date, or partial date (e.g. just year or year + month) as used in human communication. There is no time zone. Dates must be valid dates. <br/>date is a union of the w3c schema types date, gYearMonth, and gYear<br/>regex: -?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?</td></tr>
 <tr><td>dateTime</td><td>union of xs:dateTime, xs:date, xs:gYearMonth, xs:gYear</td><td>A date, date-time or partial date (e.g. just year or year + month) as used in human communication. If hours and minutes are specified, a time zone must be populated. Seconds may be provided but may also be ignored. Dates must be valid dates. <br/>date is a union of the w3c schema types dateTime, date, gYearMonth, gYear<br/>
 regex:-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?))(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?
 
 </td></tr>
 <tr><td colspan="3"></td></tr>
 <tr>
   <td colspan="3"><b>Simple Restrictions</b> <a name="patterns"></a>
<a name="code"> </a>
<a name="oid"> </a>
<a name="uuid"> </a>
<a name="id"> </a></td>
 </tr>
 <tr>
   <th>FHIR Name</th><th>Base FHIR Type</th><th>Description</th>
 </tr>
 <tr><td>oid</td><td>uri</td><td>An OID represented as a URI (<a href="http://www.ietf.org/rfc/rfc3001.txt">RFC 3001</a>): urn:oid:1.2.3.4.5</td></tr>
 <tr><td>uuid</td><td>uri</td><td>A UUID, represented as a URI (<a href="http://www.ietf.org/rfc/rfc4122.txt">RFC 4122</a>): urn:uuid:a5afddf4-e880-459b-876e-e4591b0acc11</td></tr>
 <tr><td>code</td><td>string</td><td>A string which has at least one character and no leading or trailing whitespace, and where there is no whitespace other than single spaces in the contents <br/>regex: [^\s]+([\s]+[^\s]+)*</td></tr>
 <tr><td>id</td><td>string</td><td>A whole number in the range 0 to 2^64-1 (optionally represented in hex), a uuid, an oid, or any other combination of lowercase letters, numerals, "-" and ".", with a length limit of 36 characters <br/>regex: [a-z0-9\-\.]{1,36}</td></tr>
</table>
<p>
These types are represented as XML Elements with the value of the type in the value attribute. The name of the element is defined where the type is used. 
The XML elements may have an <a href="formats.htm#idref">id attribute</a>. 
 According to XML schema, leading and trailing whitespace in the value attribute is ignored for the types 
boolean, integer, decimal, base64Binary, instant, uri, date and dateTime, oid, and uri. The means the 
schema aware XML libraries give different attribute values to non schema aware libraries when reading the 
XML isntances. For this reason, the value attribute for theese types SHOULD not have leading and trailing spaces.
String values should only have leading and trailing spaces if they are part of the content of the value. 
</p>
<p>
In JSON, the data type is represented by an object with two properties: "_id" for the id attribute, 
and "value" for the value of the type. For the data types boolean, int and decimal, the value property is a true, 
false or number as appropriate. All other types are represented as strings, and the whitespace is always 
significant (i.e. no leading and trailing spaces for non-strings). The JSON value "null" is never used.
</p>
<p>
The primitive data types can have <a href="extensibility.htm">extensions</a> like any other element in a resource.
</p>

<div class="example">
<p><b>Examples</b></p>
<p>date (e.g. Date of birth):</p>
<pre class="xml" fragment="date">
  &lt;date value="1951-06-04" /&gt;

  &lt;date id="a1" value="1951-06-04" /&gt;
</pre>
<pre class="json">
  date : {
    value : "1951-06-04"
  }

  date : {
    _id : "a1",
    value : "1951-06-04"
  }
</pre>
<p>instant (e.g. creation time of document):</p>
<pre class="xml" fragment="instant">
  &lt;instant value="1951-06-04T10:57:34+01" /&gt;
</pre>
<pre class="json">
  instant : {
    value : "1951-06-04T10:57:34+01"
  }
</pre>
</div>

<hr/>
<a name="Types"/>
<h2>Complex Types</h2>

<p>
These types are represented as XML Elements with child elements with the name of the defined elements of the type. The name of the element is defined where the type is used. 
Any of the XML elements may have an <a href="formats.htm#idref">id attribute</a>. In JSON, the data type is represented by an object with properties named the same as the the
XML elements. The JSON representation is almost exactly the same, so only the first example has an additional JSON representation.
</p>
<p>
Complex data types may be "profiled". A <a href="profile.htm">profile</a> makes 
a set of rules about which elements must have values, and what the possible 
values are.
</p>


<p>
[-%map types%-]
<img alt="Data Types (1)" src="types.png"  usemap="#types"/>

</p>
<a name="Attachment"></a>
<h2>
Attachment
</h2>
<p>
This type is for containing or referencing attachments - additional data content defined in other 
formats. The most common use of this type is to include images or reports in 
some report format such as PDF. However it can be used for any 
data that has a mime type. 
</p>
[%dt Attachment%]
<p>
The <i>contentType</i> element must always be populated. It can include charset information 
and other mime type extensions as appropriate. If there is no character set in the <i>contentType</i>
then the correct course of action is undefined, though some media types may define a default
character set and/or the correct character set may be able to be determined by inspection of the content.
</p>
<p>The actual content of the 
Attachment can be conveyed directly using the <i>data</i> element
or a <i>url</i> reference can be provided. If both are provided, the reference must 
point to the same content as found in the data. The reference can never be reused to point to
some different data (i.e. the reference is version specific). The
<i>url</i> reference must point to a location that resolves to actual data; some
uris such as cid: meet this requirement.
</p>
<p>
The <i>hash</i> is included so that applications can verify that the contents that a url have not changed. 
</p>
<p>
In many cases where Attachment is used, the cardinality is &gt;1;. A valid use of repeats is to convey the same content in different mime types and languages.
Guidance on the meaning of repeating elements MUST be provided in the definition of the repeating resource element or extension that references this type.
The language element describes the language of the attachment using the <a href="http://tools.ietf.org/html/bcp47">codes defined in BCP 47</a>.
</p>
<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints Attachment%]
<p>
If neither <i>data</i> nor a <i>url</i> 
is provided, the value should be understood as an assertion that no content for 
the specified <i>mimeType</i> and/or <i>xml:lang</i> is available for the reason stated.
</p>
<p>
The context of use may frequently make rules about the kind of attachment
(and therefore, the kind of mime types) that can be used.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>A PDF document:</p>
<pre class="xml" fragment="Attachment">
  &lt;document&gt;
    &lt;contentType value="application/pdf" /&gt;
    &lt;language value="en" /&gt;
    &lt;data value="/9j/4...KAP//Z" /&gt; &lt;!-- covers many lines --&gt;
    &lt;title value="Definition of Procedure" /&gt;
  &lt;/document&gt;
</pre>
<pre class="json">
  document : {
    contentType :  { value : "application/pdf" },
    languge : { value : "en" },
    data :  { value : "/9j/4...KAP//Z"},
    title :  { value : "Definition of Procedure" }
  }
</pre>
<p>
Since the JSON examples have the same structure as the XML, only XML is shown for the rest of the examples.
</p>
<p>A reference to a DICOM image via WADO:</p>
<pre class="xml" fragment="Attachment">
  &lt;image&gt;
    &lt;contentType value="application/dicom" /&gt;
    &lt;reference value="http://10.1.2.3:1000/wado?requestType=WADO&amp;amp;wado_details..." /&gt;
    &lt;hash value="EQH/..AgME" /&gt;
  &lt;/image&gt;
</pre>
</div>

<a name="Coding"></a>
<h2>Coding</h2>
<p>
A "<i>coding</i>" is a representation of a defined concept using a symbol from a defined "code system" - 
which may be an enumeration, a list of codes, a full terminology such as SNOMED-CT or LOINC 
or a formal ontology. 
</p>
[%dt Coding%]

<a name="codesystem"></a>
<p>
The <i>system</i> is a URI that references the enumeration, terminology 
or ontology that defines the <i>code</i>. The URI may be an OID (urn:oid:) or 
a UUID (urn:uuid:), a specially defined URI from <a href="terminologies-systems.htm">the 
named systems list</a>, a url that references a definition of the system or any other URI 
that uniquely identifies the definitions.  This could include a reference to a <a href="valueset.htm">ValueSet</a> stored in a fhir server. OIDs and UUIDs may be registered in the <a href="http://hl7.org/oid">HL7 OID 
registry</a> and should be if the content is shared or exchanged across institutional boundaries.
</p>
<p>
If present, the <i>code</i> must be a syntactically correct symbol as defined by the <i>system</i>.
In some code systems such as SNOMED-CT, the code may be an expression composed of other codes. 
Note that codes are case sensitive unless specified otherwise by the code system. The <i>display</i> 
is a text representation of the code defined by the <i>system</i> and can be used to display 
the meaning of the code by an application that is not aware of the <i>system</i>. 
</p>
<p>
In some cases, the <i>system</i> may not be known - only the code is known. 
In this case, no useful processing of the code may be performed unless
the system can be safely inferred by the context. 
This practice should be avoided where possible in order to future-proof implementations, as 
information sharing in a wider context is very likely to arise eventually, and codes cannot
be used in the absence of a known system.
</p>
<p>
If the system is present, and there is no code, then this is understood to mean that there
is no suitable code in the system in which to represent the code. 
</p>
<p>
If two Codings have the same the <i>system</i> and <i>code</i> then they have the same meaning.
Note that if a code system redefines the meaning of codes across different releases, then 
the different releases must have different values for <i>system</i>.
If either the <i>system</i> or the <i>code</i> differs, then how they are related can only be 
determined by consulting the definitions of the system(s) and any mappings available.
</p>
<p>
The correct value to use in the <i>system</i> for a given code-system can be determined by:
</p>
<ul>
 <li>the <a href="terminologies-systems.htm">Named Systems List</a> section</li>
 <li>the <a href="http://www.hl7.org/oid/index.cfm?ref=common">HL7 OID Registry</a></li>
 <li>the documentation associated with the code system</li>
 <li>consulting the owner of the code system</li>
 <li>asking on the HL7 vocabulary mailing list</li>
</ul>
<!--<h3>Version Management</h3>
<p>
Some code systems have periodic releases where the meanings of the codes are changed between
each release. Other code systems provide multiple releases where only minor consistent changes 
are allowed - mainly the addition of new codes. Finally, a few code systems provide an elaborate 
set of policies and procedures to allow concepts to be refined and modified within a single
definitional space. For the second two types of code system, it may help with implementation 
and interpretation tasks to track which minor release (version) of the code system is in use. 
</p>
<p>
For SNOMED-CT, the minor release (and optionally module/release) are indicated as part of the 
<i>system</i> element using the http://snomed.info/id identifier as defined by SNOMED-CT. For
all other code systems, the <i>version</i> element is used to indicate the minor release. 
In the absence of a specified version release format by the code system (such as 2.36 for 
LOINC), the release date is to be used.
</p>
<p>
The <i>version</i> element must always be ignored when comparing <i>Coding</i> values
</p>-->
<div class="use">
<p><b>Constraints</b></p>
<!--
[%dt.constraints Coding%]
<p>
Unless the Coding element has a dataAbsentReason flag, it must contain a <i>system</i> element 
and it should contain a <i>display</i> if it contains a <i>code</i>.
<!-!- It can only contain a
<i>version</i> element if it contains a <i>system</i> element.-!->
</p>
-->
<p>
The context of use (as defined in the resource or applicable profile) usually makes rules about what codes and systems are allowed or required in a 
particular context by <a href="terminologies.htm">binding</a> the element to a value set.
</p>
</div>

<div class="example">
<p><b>Examples</b></p>
<p>A simple code for headache, in ICD-10:</p>
<pre class="xml" fragment="Coding">
  &lt;code&gt;
    &lt;system value="http://hl7.org/fhir/sid/icd-10" /&gt;
    &lt;code value="G44.1" /&gt;
  &lt;/code&gt;
</pre>
<p>A SNOMED-CT expression:</p>
<pre class="xml" fragment="Coding">
  &lt;problem&gt;
    &lt;system value="http://snomed.info/id" /&gt;
    &lt;code value="128045006:{363698007=56459004}" /&gt;
  &lt;/problem&gt;
</pre>
</div>

<h3>Choosing Coding vs. CodeableConcept</h3>
<p>
A <b>Coding</b> is a simple direct reference to a code in a code system. In practice, such a simple 
reference is very difficult to use - if a system is using text when the correct codes can't be found, or if two different systems are using different terminologies or
a different mix of codes and text, the <b>Coding</b> type doesn't provide enough information to make this work. Since
such situations are quite a common case, the type <b>CodeableConcept</b> is defined, which allows for 
multiple <b>Coding</b> elements and/or a text representation. The <b>CodeableConcept</b> 
is used in resources in preference to the simpler <b>Coding</b> except for a few special cases. 
<b>Coding</b> is defined separately mainly for use in profiles, where the context of an explicit use 
case means that the profile can define a better structure than the general case CodeableConcept.
</p>

<a name="CodeableConcept"></a>
<h2>
CodeableConcept
</h2>
<p>
A CodeableConcept represents a represents a field that is usually defined by formal 
reference to one or more terminologies or ontologies, but may also be defined by the 
provision of text. This is a common pattern in healthcare data.
</p>
[%dt CodeableConcept%]
<p>
Each "<i>coding</i>" is a representation of the concept using a symbol from a defined "code system" - 
which may be an enumeration, a list of codes, a full terminology such as SNOMED-CT or LOINC, 
or a formal ontology. The concept may be coded multiple times in different code systems (or even 
multiple times in the same code systems, where multiple forms are possible, such as 
with SNOMED-CT). The different codings may have slightly different granularity due to the differences 
in the definitions of the underlying codes. The ordering of Codings within a CodeableConcept is undefined.  
</p>
<p>
Whether or not <i>coding</i> elements are present, the <i>text</i> 
representation of the concept as entered or chosen by the user which most closely 
represents the intended meaning of the user or concept. Very often the <i>text</i> 
is the same as a <i>display</i> of one of the codings. One of the codings 
may be flagged as the primary - the code that the user actually chose directly. 
If present, the value of the primary element is an <a href="formats.htm#id">xml:id</a> that must match 
an <i>id</i> attribute on one of the codings. 
</p>

<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints CodeableConcept%]
<p>
The context of use usually makes rules about what codes and systems are allowed or required in a 
particular context by <a href="terminologies.htm">binding</a> the element to a value set.
</p>
</div>



<div class="example">
<p><b>Examples</b></p>
<p>A simple code for headache initially coded in SNOMED-CT and translated to ICD-10:</p>
<pre class="xml" fragment="CodeableConcept">
  &lt;concept&gt;
    &lt;coding&gt;
      &lt;system value="http://hl7.org/fhir/sid/icd-10" /&gt;
      &lt;code value="R51" /&gt;
    &lt;/coding&gt;
    &lt;coding id="a1"&gt;
      &lt;system value="http://snomed.info/id" /&gt;
      &lt;code value="25064002" /&gt;
      &lt;display value="Headache" /&gt;
    &lt;/coding&gt;
    &lt;text value="general headache" /&gt;
    &lt;primary value="a1" /&gt;
  &lt;/concept&gt;
</pre>
<p>A concept represented in an institution's local coding systems for unit for which no UCUM equivalent exists:</p>
<pre class="xml" fragment="CodeableConcept">
  &lt;unit&gt;
    &lt;coding&gt;
      &lt;system value="urn:oid:2.16.840.1.113883.19.5.2" /&gt;
      &lt;code value="tab" /&gt;
      &lt;display value="Tablet" /&gt;
    &lt;/coding&gt;
    &lt;coding&gt;
      &lt;system value="http://unitsofmeasure.org" /&gt;
    &lt;/coding&gt;
  &lt;/unit&gt;
</pre>
<p>A SNOMED-CT expression:</p>
<pre class="xml" fragment="CodeableConcept">
  &lt;diagnosis&gt;
    &lt;coding&gt;
      &lt;system value="http://snomed.info/id" /&gt;
      &lt;code value="128045006:{363698007=56459004}" /&gt;
    &lt;/coding&gt;
    &lt;text value="Cellulitis of the foot" /&gt;
  &lt;/diagnosis&gt;
</pre>
<p>
In this case, there is no display element, because no display is defined for Snomed-CT expressions.
</p>
</div>

<a name="Choice"></a>
<h2>
Choice
</h2>
<p>
A code taken from a short list of codes that are not defined in a formal code system. Choice is generally used 
for things like pain scales, questionnaires or formally defined assessment indexes. The possible codes may be 
ordered with some arbitrarily defined scale. Note: Choice is not an appropriate data type to use when the possible
codes are defined as a value set from a formal code system or otherwise stored on a terminology server.
</p>
[%dt Choice%]
<p>
The <i>code</i> is the selected value. A list of possible options for code must be provided; at least a code must be provided for each <i>value</i>. 
The selected code must be found in the list of possible codes. 
</p>
<p>
If isOrdered is true, then the values have an inherent meaningful order and the list of values must be provided in the correct orderr in the instance.
</p>
<!--<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints Choice%]
</div>
-->
<div class="example">
<p><b>Example</b></p>
<p>The results on a urinalysis strip:</p>
<pre class="xml" fragment="Choice">
  &lt;value&gt;
    &lt;code value="+" /&gt;
    &lt;option&gt;
      &lt;code value="neg" /&gt;
    &lt;/option&gt;
    &lt;option&gt;
      &lt;code value="trace" /&gt;
    &lt;/option&gt;
    &lt;option&gt;
      &lt;code value="+" /&gt;
    &lt;/option&gt;
    &lt;option&gt;
      &lt;code value="++" /&gt;
    &lt;/option&gt;
    &lt;option&gt;
      &lt;code value="+++" /&gt;
    &lt;/option&gt;
    &lt;isOrdered value="true" /&gt;
  &lt;/value&gt;
</pre>
</div>

<a name="Quantity"></a>
<h2>
Quantity
</h2>
<p>
A measured amount (or an amount that can potentially be measured).
</p>
[%dt Quantity%]

<p>
The <i>value</i> contains the numerical value of the quantity, including an implicit precision. 
If no comparator is specified, the value is a point value (i.e. '='). The <i>comparator</i> element can never be ignored.
</p>
<p>
The <i>units</i> element contains a displayable unit that defines what is measured. 
The units may additionally be coded in some formal way using the <i>code</i> and the <i>system</i> 
(see <a href="#Coding">Coding</a> for further information about how to use the <i>system</i> element). 
</p>
<p>
If the units are able to be coded in UCUM and a code is provided, it SHOULD be a UCUM code. 
If a UCUM unit is provided in the <i>code</i> then a canonical value can be generated for 
purposes of comparison between quantities. Note that the <i>units</i> element will often 
contain text that is actually a valid UCUM unit, but it cannot be assumed that it does. 
</p>

<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints Quantity%]
<p>
The context of use may frequently define what kind of quantity
this is and therefore what kind of units can be used. The context 
of use may additionally require a <i>code</i> from a particular <i>system</i>.
The context of use may also restrict the values for the <i>value</i> or <i>range</i>.
</p>
</div>
<h3>
Defined Variations on Quantity
</h3>
<p>
These are used as types in resource content models, but they are really just a Quantity with some rules:
</p>
[%dt.restrictions Quantity%]
<div class="example">
<p><b>Examples</b></p>
<p>A duration:</p>
<pre class="xml" fragment="Quantity">
  &lt;time&gt;
    &lt;value value="25" /&gt;
    &lt;units value="sec" /&gt;
    &lt;system value="http://unitsofmeasure.org" /&gt;
    &lt;code value="s" /&gt;
  &lt;/time&gt;
</pre>
<p>A concentration where the value was out of range:</p>
<pre class="xml" fragment="Quantity">
  &lt;result&gt;
    &lt;value value="40000" /&gt;
    &lt;comparator value="&amp;gt;" /&gt;
    &lt;units value="mcg/L" /&gt;
    &lt;system value="http://unitsofmeasure.org" /&gt;
    &lt;code value="ug" /&gt;
  &lt;/result&gt;
</pre>
<p>An amount of prescribed medication:</p>
<pre class="xml" fragment="Quantity">
  &lt;dose&gt;
    &lt;value value="3" /&gt;
    &lt;units value="capsules" /&gt;
    &lt;system value="http://snomed.info/id" /&gt;
    &lt;code value="385049006" /&gt;
  &lt;/dose&gt;
</pre>
<p>A price (coded using currency codes defined in ISO 4217):</p>
<pre class="xml" fragment="Quantity">
  &lt;cost&gt;
    &lt;value value="25.45" /&gt;
    &lt;units value="US$" /&gt;
    &lt;system value="urn:std:iso:4217" /&gt;
    &lt;code value="USD" /&gt;
  &lt;/cost&gt;
</pre>
</div>



<a name="Range"></a>
<h2>
Range
</h2>
<p>
A set of ordered Quantity values defined by a low and high limit.
</p>
<p>
A Range specifies a set of possible values; usually, one value from the range applies (e.g. "give the patient between 2 and 4 tablets").
Ranges are typically used in instructions.
</p>
[%dt Range%]
<p>
The <i>units</i> and <i>code</i>/<i>system</i> elements of the <i>low</i> or <i>high</i> elements must match. 
If the <i>low</i> or <i>high</i> elements are missing, the meaning
is that the low or high boundaries are not known and therefore neither is the range.
</p>
<p>
The <i>range</i> flag on the <i>low</i> or <i>high</i> elements cannot be present. Note that the Range type should not be 
used to represent out of range measurements: A quantity type with the comparator element should be used instead.
</p>
<p>
The low and the high values are inclusive, and are assumed to have arbitrarily high precision. E.g. the range 1.5 to 2.5 
includes 1.50, and 2.50 but not 1.49 or 2.51.
</p>
<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints Range%]
</div>
<div class="example">
<p><b>Examples</b></p>
<p>Range of Quantity (distance):</p>
<pre class="xml" fragment="Range">
  &lt;estimate&gt;
   &lt;low&gt;
     &lt;value value="1.6" /&gt;
     &lt;units value="m" /&gt;
   &lt;/low&gt;
   &lt;high&gt;
     &lt;value value="1.9" /&gt;
     &lt;units value="m" /&gt;
   &lt;/high&gt;
  &lt;/estimate&gt;
</pre>
</div>

<a name="Ratio"></a>
<h2>
Ratio
</h2>
<p>
A ratio of two Quantity values - a numerator and a denominator.
</p>
[%dt Ratio%]
<p>
Common factors in the numerator and denominator are not automatically cancelled out. The Ratio 
data type is used for titers (e.g., "1:128") and other quantities produced by laboratories that 
truly represent ratios. Ratios are not simply "structured numerics" - for example blood pressure measurements 
(e.g. "120/60") are not ratios. In addition, ratios are used where common factors in the numerator 
and denominator do not cancel out. The most common example of this is where the ratio represents a 
unit cost, and the numerator is a currency (e.g. 50/$10).
</p>
<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints Ratio%]
<p>
The context of use may require particular types of Quantity for the numerator or denominator.
</p>
</div>
<div class="example">
<p><b>Examples</b></p>
<p>Titer (Ratio of integer:integer)</p>
<pre class="xml" fragment="Ratio">
  &lt;result&gt;
   &lt;numerator&gt;
     &lt;value value="1" /&gt;
   &lt;/numerator&gt;
   &lt;denominator&gt;
     &lt;value value="128" /&gt;
   &lt;/denominator&gt;
  &lt;/result&gt;
</pre>
<p>Unit cost (Ratio of 
:Quantity):</p>
<pre class="xml" fragment="Ratio">
  &lt;charge&gt;
   &lt;numerator&gt;
     &lt;value value="103.50" /&gt;
     &lt;units value="US$" /&gt;
     &lt;code value="USD" /&gt;
     &lt;system value="urn:std:iso:4217" /&gt;
   &lt;/numerator&gt;
   &lt;denominator&gt;
     &lt;value value="1" /&gt;
     &lt;units value="day" /&gt;
     &lt;code value="day" /&gt;
     &lt;system value="http://unitsofmeasure.org" /&gt;
   &lt;/denominator&gt;
  &lt;/charge&gt;
</pre>
</div>

<a name="Period"></a>
<h2>
Period
</h2>
<p>
A time period defined by a start and end time.
</p>
<p>
A period specifies a range of times. The context
of use will specify whether the entire range applies (e.g. "the patient
was an inpatient of the hospital for this time range") or one value 
from the period applies (e.g. "give to the patient between 2 and 4 pm").
</p>
[%dt Period%]
<p>
If the <i>start</i> element is  missing, the start of the period is not
known. If the <i>end</i> element is missing, it means that the period is ongoing.
</p>
<p>
The end value includes any matching date/time. For example, the period 
2011-05-23 to 2011-05-27 includes all the times of 23rd May through to 
the end of the 27th May.
</p>
<!--<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints Period%]
</div>
-->
<div class="example">
<p><b>Examples</b></p>
<p>23rd May 2011 to 27th May, including 27th May:</p>
<pre class="xml" fragment="Period">
  &lt;coverage&gt;
   &lt;start value="2011-05-23" /&gt;
   &lt;end value="2011-05-27" /&gt;
  &lt;/coverage&gt;
</pre>
</div>

<a name="SampledData"></a>
<h2>
SampledData
</h2>
<p>
Data that comes from a series of measurements taken by a device, with upper and lower limits. There may be more than one dimension in the data.
</p>
<p>
A SampledData provides a concise way to handle the data produced by devices that sample a physical particular state at a high frequency. A typical 
use for this is for the output of an ECG or EKG device.
</p>
[%dt SampledData%]
<p>
The digits are a set of decimal values separated by a single space (Unicode character u20).
In addition to decimal values, the special values "E" (error), "L" (below detection limit) 
and "U" (above detection limit) can also be used. If there is more than one dimension, the
different dimensions are interlaced - all the data points for a particular time are
represented together. 
</p>
<p>
None of the elements in a SampledData are mandatory because the SampledData type is frequently used with
devices where one usage carries just the <i>data</i> element, and the values of the other 
elements are represented elsewhere (see <a href="devicelog.htm">Device Log</a> and <a href="devicecapabilities.htm">Device Capabilities</a>). 
At least one element must always be populated. The data is not interpretable without at least <i>origin</i>, 
<i>period</i>, and <i>dimensions</i>. When carried in an <a href="observation.htm">Observation</a>,
these 3 elements and <i>data</i> must be populated for the SampledData to be properly populated.
The default value for <i>factor</i> is 1. 
</p>

<div class="example">
<p><b>Example</b></p>
<p>The output from an EKG device:</p>
<pre class="xml" fragment="Period">
 &lt;sampledData&gt;
  &lt;origin&gt;
   &lt;value value="0"/&gt;
   &lt;units value="&mu;V"/&gt;
   &lt;system value="http://unitsofmeasure.org"/&gt;
   &lt;code value="uV"/&gt;   
  &lt;/origin&gt;
  &lt;period value="2"/&gt;
  &lt;scale value="2.5"/&gt;
  &lt;dimensions value="1"/&gt;
  &lt;data value="-4 -13 -18 -18 -18 -17 -16 -16 -16 -16 -16 -17 -18 -18 -18 ...."/&gt;
 &lt;/sampledData&gt;
</pre>
</div>


<hr/>
<p>
[-%map types2%-]

<img alt="Types (2)" src="types2.png" usemap="#types2"/>
</p>

<a name="Identifier"></a>
<h2>
Identifier
</h2>
<p>
An identifier intended for use external to the FHIR protocol. As an external
identifier, they may be changed or retired due to human or system process and
errors. 
</p>

[%dt Identifier%]

<p>
The <i>system</i> referred to by means of a URI defines how the identifier is defined (i.e. how the key value is made unique). 
It might be a specific application or a recognized standard/specification for a set or identifiers
or a way of making identifiers unique. The <i>key</i> must be unique within the defined <i>system</i>
and have a consistent meaning wherever it appears. Both <i>system</i> and <i>key</i> values are always case sensitive.
</p>
<p>
FHIR defines <a href="terminologies-systems.htm">some useful URIs directly</a>. OIDs (urn:oid:) and UUIDs (urn:uuid:) 
may be registered in the <a href="http://hl7.org/oid">HL7 OID registry</a> and should be if the 
content is shared or exchanged across institutional boundaries. If the identifier itself 
is naturally globally unique (i.e. an OID, a UUID, or a URI with no trailing local part), 
then the <i>system</i> must be "urn:ietf:rfc:3986", and the URI would be in the <i>key</i>.
</p>
<p>
In some cases, the system may not be known - only the key is known (e.g. a simple device that scans a barcode), 
or the system is known implicitly (simple exchange in a limited context, often driven by barcode readers). 
In this case, no useful matching may be performed using the key unless the system can be safely inferred by the 
context. This practice should be avoided where possible in order to future-proof implementations, as 
information sharing in a wider context is very likely to arise eventually.
</p>
<p>
The <i>assigner</i> is used to indicate what registry/state/facility/etc assigned the identifier. 
</p>  



<div class="example">
<p><b>Examples</b></p>
<p>A primary key from an application table (an OID in the space allocated by HL7
to some organisation to further sub-allocate):</p>
<pre class="xml" fragment="Identifier">
  &lt;identifier&gt;
    &lt;use value="official" /&gt;
    &lt;system value="urn:oid:2.16.840.1.113883.16.4.3.2.5" /&gt;
    &lt;key value="123" /&gt;
  &lt;/identifier&gt;
</pre>

<p>A patient identifier defined by a hospital:</p>
<pre class="xml" fragment="Identifier">
  &lt;identifier&gt;
    &lt;use value="official" /&gt;
    &lt;system value="http://www.acmehosp.com/patients" /&gt;
    &lt;key value="44552" /&gt;
    &lt;period&gt;
      &lt;start value="2003-05-03" /&gt;
    &lt;/period&gt;
  &lt;/identifier&gt;
</pre>
<p>In this case, tThe period is used to track when the identifier was first assigned to the patient.</p>

<p>An identifier that refers to a patient FHIR resource on a particular system:</p>
<pre class="xml" fragment="Identifier">
  &lt;identifier&gt;
   &lt;system value="urn:ietf:rfc:3986" /&gt;
   &lt;key value="http://pas-server/xxx/patient/@443556" /&gt;
  &lt;/identifier&gt;
</pre>
<p>This is not a resource reference - it's a logical reference by the patient identifier.</p>

<p>A UUID:</p>
<pre class="xml" fragment="Identifier">
  &lt;identifier&gt;
    &lt;use value="temp" /&gt;
    &lt;system value="urn:ietf:rfc:3986" /&gt;
    &lt;key value="urn:uuid:a76d9bbf-f293-4fb7-ad4c-2851cac77162" /&gt;
  &lt;/identifier&gt;
</pre>
<p>UUIDs are often used for temporary identifiers, though this is not necessary.</p>

<p>A US SSN:</p>
<pre class="xml" fragment="Identifier">
  &lt;identifier&gt;
    &lt;use value="usual" /&gt;
    &lt;label value="SSN" /&gt;
    &lt;system value="http://hl7.org/fhir/sid/us-ssn" /&gt;
    &lt;key value="000111111" /&gt;
  &lt;/identifier&gt;
</pre>
<p>Notes:</p> 
<ul>
 <li>US SSNs are often presented like this: 000-11-1111, the dashes are for presentation and should be removed, as specified in the <a href="terminologies.htm#identifiersystems">definition of ssn-us</a></li>
 <li>The use of "usual" means that this institution prefers to use SSN when identifying the patient</li>
</ul>

<p>A medical record number assigned on 5-July 2009:</p>
<pre class="xml" fragment="Identifier">
  &lt;identifier&gt;
    &lt;use value="usual" /&gt;
    &lt;label value="MRN" /&gt;
    &lt;system value="urn:oid:0.1.2.3.4.5.6.7" /&gt;
    &lt;key value="2356" /&gt;
    &lt;period&gt;
      &lt;start value="2009-07-05" /&gt;
    &lt;/period&gt;
  &lt;/identifier&gt;
</pre>
</div>

<a name="HumanName"></a>
<h2>
HumanName
</h2>
<p>
A name of a human with text, parts and usage information.
</p>
<p>
Names may be changed or repudiated.  People may have different names in different 
contexts. Names may be divided into parts of different type that have variable 
significance depending on context, though the division into parts does not always 
matter. With personal names, the different parts may or may not be imbued with
some implicit meaning; various cultures associate different importance with the 
name parts and the degree to which systems must care about name parts around the 
world varies widely.
</p>
[%dt HumanName%]
<p>
The <i>text</i> element specifies the entire name as it should be represented. This
may be provided instead of or as well as specific parts. Applications updating a name
must ensure either that the text and the parts are in agreement, or that only one
of the two is present.
</p>
<p>
Note that the order of the  parts within a given part type has 
significance and must be observed. The appropriate order between 
family name and given names depends on culture and context of use. 
</p>
<!--<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints HumanName%]
</div>
-->
<div class="example">
<p><b>Example</b></p>
<p>Full name of Peter James Chalmers.</p>
<pre class="xml" fragment="HumanName">
  &lt;name&gt;
    &lt;use value="usual" /&gt;
    &lt;family value="Chalmers" /&gt;
    &lt;given value="Peter" /&gt;
    &lt;given value="James" /&gt;
  &lt;/name&gt;
</pre>
<p><a href="datatypes-examples.htm#HumanName">Further examples</a></p>
</div>
<div class="mapping">
<p><b><a href="http://tools.ietf.org/html/rfc6350">vCard</a> Mappings</b></p>
<ul>
 <li>HumanName.text = vCard "FN" field</li>
 <li>HumanName.use = use of the vCard "TYPE" parameter</li>
 <li>HumanName.family, .given, .prefix, .suffix = parts of vCard "N" field. Note that there is no FHIR equivalent for the poorly defined "additional" name field. In FHIR, given names go in "middle" names</li>
 <li>The vCard nickname corresponds to a name with the use "nickname"</li>
</ul>
</div>
<a name="Address"></a>
<h2>
Address
</h2>
<p>
A postal address. There are a variety of postal address formats defined around the world. 
Postal addresses are often also used to record a location that can be
visited to find a patient or person.
</p>

[%dt Address%]
<p>
The <i>text</i> element specifies the entire address as it should be represented. This
may be provided instead of or as well as the specific parts. Applications updating an address
must ensure either that the text and the parts are in agreement, or that only one
of the two is present.
</p>


<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints Address%]
</div>
<div class="example">
<p><b>Example</b></p>
<p>HL7 office's address.</p>
<pre class="xml" fragment="Address">
  &lt;address&gt;
   &lt;use value="work" /&gt;
   &lt;text value="1050 W Wishard Blvd&#13;&#10;RG 
         5th floor&#13;&#10;Indianapolis, IN 46240" /&gt;
   &lt;line value="1050 W Wishard Blvd" /&gt;
   &lt;line value="RG 5th floor" /&gt;
   &lt;city value="Indianapolis" /&gt;
   &lt;state value="IN" /&gt;
   &lt;zip value="46240" /&gt;
  &lt;/address&gt;
</pre>
<p><a href="datatypes-examples.htm#Address">Further examples</a></p>
</div>
<div class="mapping">
<p><b><a href="http://tools.ietf.org/html/rfc6350">vCard</a> Mappings</b></p>
<ul>
 <li>Address.text = vCard "ADDRESS" "LABEL" parameter</li>
 <li>Address.use = vCard "TYPE" parameter</li>
 <li>Address.line = vCard "street" list component</li>
 <li>Address.city = vCard "locality" list component</li>
 <li>Address.state = vCard "region" list component</li>
 <li>Address.zip = vCard "code" list component</li>
 <li>Address.country = vCard "country" list component</li>
</ul>
</div>

<a name="Contact"></a>
<h2>
Contact
</h2>
<p>
All kinds of technology-mediated contact details for a person or organisation, including telephone, email, etc.
</p>
[%dt Contact%]
<p>
If capturing a phone, fax or similar contact, the value should be a properly formatted telephone number according to 
<a href="http://www.itu.int/rec/T-REC-E.123-200102-I/e">ITU-T E.123</a>. 
However, this is frequently not possible due to legacy data and/or recording methods.
</p>
<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints Contact%]
</div>
<div class="example">
<p><b>Example</b></p>
<p>Home phone number:</p>
<pre class="xml" fragment="Contact">
  &lt;telecom&gt;
   &lt;system value="phone" /&gt;
   &lt;value value="+15556755745" /&gt;
   &lt;use value="home" /&gt;
  &lt;/telecom&gt;
</pre>
<p><a href="datatypes-examples.htm#Contact">Further examples</a></p>
</div>

<a name="Schedule"></a>
<h2>
Schedule
</h2>
<p>
A schedule that specifies an event that may occur multiple times. Schedules are not used for recording when things did happen, but when they are expected or requested to occur.
A schedule can be either a list of events - periods on which the event occurs, 
or a single event with repeating criteria, or just repeating criteria with no actual event. 
</p>
<p>
Note: a possible enhancement to this is to have the repeat content repeat with each event. This is richer and more complex - is the added functionality useful?
</p>
[%dt Schedule%]
<p>
If events are specified, at least a low must be specified for each event. If no high is 
specified, the event is assumed to last a limited but unknown time as clinically relevant.
</p>
<p>
If the schedule has repeating criteria, the repeat can occur a given number of times per 
the specified duration or in relation to some real world event. Also, if the event repeats,
a time to end the schedule can be specified, either by specifying a count number of times 
it can occur or a date at which to end the schedule. If no end condition is specified, 
the Schedule will terminate on some criteria that are expressed elsewhere. 
</p>

<div class="use">
<p><b>Constraints</b></p>
[%dt.constraints Schedule%]

</div>
<div class="example">
<p><b>Example</b></p>
<p>A series of appointments for radiotherapy:</p>
<pre class="xml" fragment="Schedule">
  &lt;schedule&gt;
    &lt;event&gt;
      &lt;start value="2012-01-07T09:00" /&gt;
      &lt;end value="2012-01-07T13:00" /&gt;
    &lt;/event&gt;
    &lt;event&gt;
      &lt;start value="2012-01-14T09:00" /&gt;
      &lt;end value="2012-01-14T13:00" /&gt;
    &lt;/event&gt;
    &lt;event&gt;
      &lt;start value="2012-01-22T11:00" /&gt;
      &lt;end value="2012-01-22T15:00" /&gt;
    &lt;/event&gt;
  &lt;/schedule&gt;
</pre>
<p>BID (twice a day) (no start or end specified):</p>
<pre class="xml" fragment="Schedule">
  &lt;schedule&gt;
   &lt;repeat&gt;
     &lt;frequency value="2" /&gt;
     &lt;duration value="1" /&gt;
     &lt;units value="d" /&gt;
   &lt;/repeat&gt;
  &lt;/schedule&gt;
</pre>
<p>1/2 an hour before breakfast for 10 days from 23-Dec 2011:</p>
<pre class="xml" fragment="Schedule">
  &lt;schedule&gt;
    &lt;event&gt;
      &lt;start value="2011-12-23" /&gt;
    &lt;/event&gt;
    &lt;repeat&gt;
      &lt;when value="ACM" /&gt;
      &lt;duration value="30" /&gt;
      &lt;units value="min" /&gt;
      &lt;end value="2012-01-02" /&gt;
    &lt;/repeat&gt;
  &lt;/schedule&gt;
</pre>
<p>
Note that the end date is inclusive like the high date of a Period.
</p>
</div>

<a name="other"> </a>
<h2>Other Types</h2>
<p>
The following types are defined as part of the data types, but are documented elsewhere in the specification:
</p>
<p style="text-alignment: left">
[-%map types3%-]

<img alt="Other Types" src="types3.png" usemap="#types3"/>
</p>
<ul>
 <li><b><a href="resources.htm#metadata">Resource</a></b> - The conceptual base class for all resources</li>
 <li><b><a href="resources.htm#Resource">ResourceReference</a></b> - for references from one resource to another</li>
 <li><b><a href="extensibility.htm">Extension</a></b> - used to convey additional data in a resource</li>
 <li><b><a href="formats.htm#Narrative">Narrative</a></b> - Conveys a human readable representation of the content of a resource</li>
</ul>

[%footer%]


[%/maindiv%]    
</body>
</html>