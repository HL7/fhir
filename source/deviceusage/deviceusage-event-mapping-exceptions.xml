<mappingExceptions pattern="Event" resource="DeviceUsage" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../tools/schema/mappingExceptions.xsd">
    <!--For information on the contents of this file and how to properly update it, see https://confluence.hl7.org/display/FHIR/Mapping+to+Patterns.-->
    <divergentElement patternPath="Event.identifier" resourcePath="DeviceUsage.identifier">
        <shortUnmatched reason="Unknown">
            <_pattern value="Business identifier for device usage"/>
            <resource value="External identifier for this record"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="Business identifiers assigned to this device usage by the performer and/or other systems.  These identifiers remain constant as the resource is updated and propagates from server to server."/>
            <resource value="An external identifier for this statement such as an IRI."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Unknown">
            <_pattern value="Note: This is a business identifier, not a resource identifier (see [discussion](resource.html#identifiers)).  It is best practice for the identifier to only appear on a single resource instance, however business practices may occasionally dictate that multiple resource instances with the same identifier can exist - possibly even with different resource types.  For example, multiple Patient and a Person resource instance might share the same social insurance number."/>
            <resource value=""/>
        </commentsUnmatched>
        <requirementsUnmatched reason="Unknown">
            <_pattern value="Allows identification of the device usage as it is known by various participating systems and in a way that remains consistent across servers."/>
            <resource value=""/>
        </requirementsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.basedOn" resourcePath="DeviceUsage.basedOn">
        <missingTypes _pattern="Reference(Request)" reason="Unknown"/>
        <extraTypes _resource="Reference(ServiceRequest)" reason="Unknown"/>
        <definitionUnmatched reason="Unknown">
            <_pattern value="A plan, proposal or order that is fulfilled in whole or in part by this device usage."/>
            <resource value="A plan, proposal or order that is fulfilled in whole or in part by this DeviceUsage."/>
        </definitionUnmatched>
        <requirementsUnmatched reason="Unknown">
            <_pattern value="Allows tracing of authorization for the device usage and tracking whether proposals/recommendations were acted upon."/>
            <resource value="Allows tracing of authorization for the DeviceUsage and tracking whether proposals/recommendations were acted upon."/>
        </requirementsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.partOf" resourcePath="DeviceUsage.partOf">
        <missingTypes _pattern="Reference(Event)" reason="Unknown"/>
        <extraTypes _resource="Reference(DeviceUsage)" reason="Unknown"/>
        <shortUnmatched reason="Unknown">
            <_pattern value="Part of referenced event"/>
            <resource value="Part of referenced device usage"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="A larger event of which this particular device usage is a component or step."/>
            <resource value="A larger event of which this particular device usage is one part the usage."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Unknown">
            <_pattern value="Not to be used to link an device usage to an Encounter - use 'context' for that."/>
            <resource value=""/>
        </commentsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.status" resourcePath="DeviceUsage.status">
        <shortUnmatched reason="Unknown">
            <_pattern value="preparation | in-progress | not-done | suspended | aborted | completed | entered-in-error | unknown"/>
            <resource value="preparation | active | completed | not-done | entered-in-error +"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="The current state of the device usage."/>
            <resource value="A code representing the patient or other source's judgment about the state of the device used that this statement is about.  Generally this will be active or completed."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Unknown">
            <_pattern value="A nominal state-transition diagram can be found in the (Event pattern documentation&#10;&#10;Unknown does not represent &quot;other&quot; - one of the defined statuses must apply.  Unknown is used when the authoring system is not sure what the current status is."/>
            <resource value="DeviceUsage is a statement at a point in time.  The status is only representative at the point when it was asserted.  The value set for contains codes that assert the status of the use  by the patient (for example, stopped or on hold) as well as codes that assert the status of the resource itself (for example, entered in error).&#13;&#13;This element is labeled as a modifier because the status contains the codes that mark the statement as not currently valid. When the status is 'not-done', the [event-statusReason](http://hl7.org/fhir/StructureDefinition/event-statusReason) extension should be used to indicate why the DeviceUsage was not done."/>
        </commentsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.category" resourcePath="DeviceUsage.category">
        <summary _pattern="true" _resource="false" reason="Unknown"/>
        <shortUnmatched reason="Unknown">
            <_pattern value="High level categorization of device usage"/>
            <resource value="The category of the statement - classifying how the statement is made"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="Partitions the device usage into one or more categories that can be used to filter searching, to govern access control and/or to guide system behavior."/>
            <resource value="This attribute indicates a category for the statement - The device statement may be made in an inpatient or outpatient settting (inpatient | outpatient | community | patientspecified)."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Unknown">
            <_pattern value="Categorization might be done automatically (inferred by code) or manually by user assertion.  The absence of a category may limit the ability to determine when the element should be handled, so strong consideration should be given to how systems will be able to determine category values for legacy data and how data that cannot be categorized will be handled.  As well, some categories might not be mutually exclusive, so systems should prepare for multiple declared categories - even within a single category 'axis'.&#10;In general, there should not be a 'strong' binding ('required' or 'extensible') on the category element overall.  Instead, the element can be sliced and bindings can be asserted that apply to particular repetitions."/>
            <resource value=""/>
        </commentsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.product" resourcePath="DeviceUsage.device">
        <lowerCardinality _pattern="0" _resource="1" reason="Unknown"/>
        <shortUnmatched reason="Unknown">
            <_pattern value="Product used/provided"/>
            <resource value="Code or Reference to device used"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="Indicates the product supplied or manipulated by this device usage."/>
            <resource value="Code or Reference to device used."/>
        </definitionUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.subject" resourcePath="DeviceUsage.subject">
        <shortUnmatched reason="Unknown">
            <_pattern value="Individual service was done for/to"/>
            <resource value="Individuals(s) who used the device"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="The individual or set of individuals the action is being or was performed on."/>
            <resource value="The individual(s) who used the device."/>
        </definitionUnmatched>
        <requirementsUnmatched reason="Unknown">
            <_pattern value="Links the device usage to the Patient context.  May also affect access control."/>
            <resource value=""/>
        </requirementsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.encounter" resourcePath="DeviceUsage.context">
        <extraTypes _resource="Reference(EpisodeOfCare)" reason="Unknown"/>
        <shortUnmatched reason="Unknown">
            <_pattern value="Encounter the device usage is part of"/>
            <resource value="The encounter or episode of care that establishes the context for this device use statement"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="The Encounter during which this device usage was created or to which the creation of this record is tightly associated."/>
            <resource value="The encounter or episode of care that establishes the context for this device use statement."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Unknown">
            <_pattern value="This will typically be the encounter the device usage was created during, but some device usages may be initiated prior to or after the official completion of an encounter but still be tied to the context of the encounter (e.g. pre-admission lab tests)."/>
            <resource value=""/>
        </commentsUnmatched>
        <requirementsUnmatched reason="Unknown">
            <_pattern value="Links the device usage to the Encounter context.  May also affect access control."/>
            <resource value=""/>
        </requirementsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.occurrence[x]" resourcePath="DeviceUsage.timing[x]">
        <shortUnmatched reason="Unknown">
            <_pattern value="When device usage occurred/is occurring"/>
            <resource value="How often  the device was used"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="The date, period or timing when the device usage did occur or is occurring."/>
            <resource value="How often the device was used."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Unknown">
            <_pattern value="This indicates when the activity actually occurred or is occurring, not when it was asked/requested/ordered to occur.  For the latter, look at the occurence element of the  Request this {{event}} is &quot;basedOn&quot;.  The status code allows differentiation of whether the timing reflects a historic event or an ongoing event.  Ongoing events should not include an upper bound in the Period or Timing.bounds.&#10;."/>
            <resource value=""/>
        </commentsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.recorded" resourcePath="DeviceUsage.dateAsserted">
        <shortUnmatched reason="Unknown">
            <_pattern value="When device usage was first captured in the subject's record"/>
            <resource value="When the statement was made (and recorded)"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="The date the occurrence of the device usage was first captured in the record - potentially significantly after the occurrence of the event."/>
            <resource value="The time at which the statement was recorded by informationSource."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Unknown">
            <_pattern value="The recorded date indicates the date when the data was placed in the record maintained by the performing practitioner, or the date of disclosure by Patient or RelatedPerson, not a date of record transfer. If the record is transferred from one system to another (in paper or electronic form), it does not create a distinct recorded date. In most cases, performing practitioners will record on the same date the event occurred, but sometimes there are delays. If information is being relayed second-hand, the recorded date indicates when the system is first made aware of the data.&#10;&#10;The recorded date is NOT intended to be the same as a database.createdTimestamp - that would be captured as part of resource.meta or possibly Provenance.&#10;&#10;It is possible for the same event to be disclosed to different systems at different times.  E.g. a patient might tell two different clinicians about a historical event at different visits.  If the disclosure is from the patient rather than record transfer from clinician A to B, the recorded date would be the date each respective clinician put the data in their record.  If the data flowed from clinician A to B, the recorded date would remain the recorded date as initially set in clinician A's system."/>
            <resource value=""/>
        </commentsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.reported[x]" resourcePath="DeviceUsage.informationSource">
        <missingTypes _pattern="boolean" reason="Unknown"/>
        <extraTypes _resource="Reference(Group)" reason="Unknown"/>
        <shortUnmatched reason="Unknown">
            <_pattern value="Reported rather than primary record"/>
            <resource value="Who made the statement"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="Indicates if this record was captured as a secondary 'reported' record rather than as an original primary source-of-truth record.  It may also indicate the source of the report."/>
            <resource value="Who reported the device was being used by the patient."/>
        </definitionUnmatched>
        <requirementsUnmatched reason="Unknown">
            <_pattern value="Reported data may have different rules on editing and may be visually distinguished from primary data."/>
            <resource value=""/>
        </requirementsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.reason" resourcePath="DeviceUsage.reason">
        <bindingExistence _pattern="true" _resource="false" reason="Unknown"/>
        <shortUnmatched reason="Unknown">
            <_pattern value="Why was device usage performed?"/>
            <resource value="Why device was used"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="Describes why the device usage occurred in coded or textual form or Indicates another resource whose existence justifies this device usage."/>
            <resource value="Reason or justification for the use of the device. A coded concept, or another resource whose existence justifies this DeviceUsage."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Unknown">
            <_pattern value="Textual reasons can be captured using reasonCode.text."/>
            <resource value="When the status is not done, the reason code indicates why it was not done."/>
        </commentsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.note" resourcePath="DeviceUsage.bodyStructure">
        <upperCardinality _pattern="*" _resource="1" reason="Unknown"/>
        <missingTypes _pattern="Annotation" reason="Unknown"/>
        <extraTypes _resource="CodeableReference(BodyStructure)" reason="Unknown"/>
        <summary _pattern="false" _resource="true" reason="Unknown"/>
        <bindingExistence _pattern="false" _resource="true" reason="Unknown"/>
        <shortUnmatched reason="Unknown">
            <_pattern value="Comments made about the event"/>
            <resource value="Target body structure"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="Comments made about the device usage by the performer, subject or other participants."/>
            <resource value="Indicates the anatomic location on the subject's body where the device was used (i.e. the target)."/>
        </definitionUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.note" resourcePath="DeviceUsage.note">
        <shortUnmatched reason="Unknown">
            <_pattern value="Comments made about the event"/>
            <resource value="Addition details (comments, instructions)"/>
        </shortUnmatched>
        <definitionUnmatched reason="Unknown">
            <_pattern value="Comments made about the device usage by the performer, subject or other participants."/>
            <resource value="Details about the device statement that were not represented at all or sufficiently in one of the attributes provided in a class. These may include for example a comment, an instruction, or a note associated with the statement."/>
        </definitionUnmatched>
    </divergentElement>
    <unmappedElement patternPath="Event.relevantHistory" reason="Unknown"/>
    <unmappedElement patternPath="Event.code" reason="Unknown"/>
    <unmappedElement patternPath="Event.location" reason="Unknown"/>
    <unmappedElement patternPath="Event.performer.actor" reason="Unknown"/>
    <unmappedElement patternPath="Event.performer.function" reason="Unknown"/>
    <unmappedElement patternPath="Event.performer" reason="Unknown"/>
</mappingExceptions>
