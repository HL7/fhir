<mappingExceptions pattern="Event" resource="GuidanceResponse" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../tools/schema/mappingExceptions.xsd">
    <!--For information on the contents of this file and how to properly update it, see https://confluence.hl7.org/display/FHIR/Mapping+to+Patterns.-->
    <divergentElement patternPath="Event.status" resourcePath="GuidanceResponse.status">
        <shortUnmatched reason="Guidance response statuses are specific to the response to the request for guidance from a service.">
            <_pattern value="preparation | in-progress | not-done | suspended | aborted | completed | entered-in-error | unknown"/>
            <resource value="success | data-requested | data-required | in-progress | failure | entered-in-error"/>
        </shortUnmatched>
        <definitionUnmatched reason="Guidance response statuses are specific to the response to the request for guidance from a service.">
            <_pattern value="The current state of the guidance response."/>
            <resource value="The status of the response. If the evaluation is completed successfully, the status will indicate success. However, in order to complete the evaluation, the engine may require more information. In this case, the status will be data-required, and the response will contain a description of the additional required information. If the evaluation completed successfully, but the engine determines that a potentially more accurate response could be provided if more data was available, the status will be data-requested, and the response will contain a description of the additional requested information."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Guidance response statuses are specific to the response to the request for guidance from a service.">
            <_pattern value="A nominal state-transition diagram can be found in the (Event pattern documentation&#10;&#10;Unknown does not represent &quot;other&quot; - one of the defined statuses must apply.  Unknown is used when the authoring system is not sure what the current status is."/>
            <resource value="This element is labeled as a modifier because the status contains codes that mark the resource as not currently valid."/>
        </commentsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.subject" resourcePath="GuidanceResponse.subject">
        <lowerCardinality _pattern="1" _resource="0" reason="Guidance response might not be limited to a particular subject"/>
    </divergentElement>
    <divergentElement patternPath="Event.occurrence[x]" resourcePath="GuidanceResponse.occurrenceDateTime">
        <missingTypes _pattern="Period, Timing" reason="Guidance response is returned at a specific point in time"/>
        <shortUnmatched reason="More specific text">
            <_pattern value="When guidance response occurred/is occurring"/>
            <resource value="When the guidance response was processed"/>
        </shortUnmatched>
        <definitionUnmatched reason="More specific text">
            <_pattern value="The date, period or timing when the guidance response did occur or is occurring."/>
            <resource value="Indicates when the guidance response was processed."/>
        </definitionUnmatched>
        <commentsUnmatched reason="Unnecessary because the type is specific">
            <_pattern value="This indicates when the activity actually occurred or is occurring, not when it was asked/requested/ordered to occur.  For the latter, look at the occurence element of the  Request this {{event}} is &quot;basedOn&quot;.  The status code allows differentiation of whether the timing reflects a historic event or an ongoing event.  Ongoing events should not include an upper bound in the Period or Timing.bounds.&#10;."/>
            <resource value=""/>
        </commentsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.performer.actor" resourcePath="GuidanceResponse.performer">
        <lowerCardinality _pattern="1" _resource="0" reason="Not necessarily represented"/>
        <missingTypes _pattern="Reference(Practitioner,PractitionerRole,Organization,CareTeam,Patient,RelatedPerson)" reason="Specifically modeling service response"/>
        <summary _pattern="true" _resource="false" reason="Not part of summary"/>
        <shortUnmatched reason="Specific text">
            <_pattern value="Who performed guidance response"/>
            <resource value="Device returning the guidance"/>
        </shortUnmatched>
        <definitionUnmatched reason="Specific text">
            <_pattern value="Indicates who or what performed the guidance response."/>
            <resource value="Provides a reference to the device that performed the guidance."/>
        </definitionUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.reason" resourcePath="GuidanceResponse.reason">
        <bindingExistence _pattern="true" _resource="false" reason="Unknown"/>
        <shortUnmatched reason="More specific text">
            <_pattern value="Why was guidance response performed?"/>
            <resource value="Why guidance is needed"/>
        </shortUnmatched>
        <definitionUnmatched reason="More specific text">
            <_pattern value="Describes why the guidance response occurred in coded or textual form or Indicates another resource whose existence justifies this guidance response."/>
            <resource value="Describes the reason for the guidance response in coded or textual form, or Indicates the reason the request was initiated. This is typically provided as a parameter to the evaluation and echoed by the service, although for some use cases, such as subscription- or event-based scenarios, it may provide an indication of the cause for the response."/>
        </definitionUnmatched>
        <commentsUnmatched reason="More specific text">
            <_pattern value="Textual reasons can be captured using reasonCode.text."/>
            <resource value="Although this reference can be used to point to any resource, it is typically expected to refer to subject-specific data appropriate to the subject of the guidance. For example, patient-based decision support would be expected to reference patient-level data. In addition, implementations should provide as much detail as possible by using the [http://hl7.org/fhir/StructureDefinition/targetElement](https://build.fhir.org/ig/HL7/fhir-extensions/StructureDefinition-targetElement.html) and [http://hl7.org/fhir/StructureDefinition/targetPath](https://build.fhir.org/ig/HL7/fhir-extensions/StructureDefinition-targetPath.html) extensions to indicate the specific elements relevant to providing the reason for the guidance."/>
        </commentsUnmatched>
    </divergentElement>
    <divergentElement patternPath="Event.note" resourcePath="GuidanceResponse.note">
        <shortUnmatched reason="More specific text">
            <_pattern value="Comments made about the event"/>
            <resource value="Additional notes about the response"/>
        </shortUnmatched>
        <definitionUnmatched reason="More specific text">
            <_pattern value="Comments made about the guidance response by the performer, subject or other participants."/>
            <resource value="Provides a mechanism to communicate additional information about the response."/>
        </definitionUnmatched>
    </divergentElement>
    <unmappedElement patternPath="Event.partOf" reason="GuidanceResponses are individual"/>
    <unmappedElement patternPath="Event.reported" reason="Reported is not different than occurrence"/>
    <unmappedElement patternPath="Event.relevantHistory" reason="GuidanceResponses are typically logged and not changed"/>
    <unmappedElement patternPath="Event.code" reason="Mapping resulted in ordering changes"/>
    <unmappedElement patternPath="Event.statusReason" reason="Not required"/>
    <unmappedElement patternPath="Event.performer.function" reason="Not required, performer is always a device"/>
    <unmappedElement patternPath="Event.category" reason="Not required"/>
    <unmappedElement patternPath="Event.recorded" reason="Recorded is not different than occurrence"/>
    <unmappedElement patternPath="Event.product" reason="Too specific for guidance response"/>
    <unmappedElement patternPath="Event.performer" reason="This is mapped, just isn't a backbone in this resource"/>
    <unmappedElement patternPath="Event.basedOn" reason="Guidance response is not basedOn other request resources"/>
    <unmappedElement patternPath="Event.researchStudy" reason="Too specific for guidance response"/>
</mappingExceptions>
