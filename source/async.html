<!DOCTYPE HTML>

[%settitle Asynchronous patterns%]
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  [%file newheader%]
</head>

<body>
  [%file newnavbar%]


  <h2 id="asynchronous-request-patterns">Asynchronous Request Patterns</h2>
  <table class="colsi">
    <tr>
      <td id="wg">Responsible Owner: <a _target="blank" href="[%wg fhir%]">[%wgt fhir%]</a> Work Group</td>
      
      <td id="ballot"><a href="versions.html#std-process">Standards Status</a>:
        <!--!ns!--><a href="versions.html#std-process">Informative</a>
      </td>
    </tr>
  </table>

  <h3 id="use-case">Use Case</h3>
  <p>All of the interactions defined in the <a href="http.html">RESTful API</a> are described as synchronous operations
    - that is, the client makes a query and waits for the server to respond with the outcome in the HTTP response. This
    pattern is not always suitable when significant server side processing is necessary or when substantial amounts of
    data must be returned.</p>
  <p>A good example of this is the <a href="http://hl7.org/fhir/uv/bulkdata/export.html">$export operation</a>, where
    simple searches may result in large amounts of data.</p>
  <p>The asynchronous request patterns, based on <a href="https://tools.ietf.org/html/rfc7240#section-4.1">rfc 7240</a>,
    cater to this use case and can be used for FHIR <a href="http.html">Defined Interactions</a> and <a
      href="operations.html">Operations</a>.
  </p>

  <h3 id="patterns">Patterns</h3>
  <p>FHIR defines two asynchronous patterns:</p>
  <ul>
    <li><a href="https://build.fhir.org/ig/HL7/api-incubator/async-bulk.html">Asynchronous Bulk Data Request</a> - for use in FHIR <a href="operations.html">Operations</a>
      and <a href="http.html">Defined Interactions</a> that return a large amount of data. This pattern returns a
      manifest with links to data files containing FHIR resources.
    </li>
    <li><a href="https://build.fhir.org/ig/HL7/api-incubator/async-bundle.html">Asynchronous Interaction Request</a> - for use in FHIR <a
        href="operations.html">Operations</a> and <a href="http.html">Defined Interactions</a> that are not processed
      synchronously or may take a lot of time to process. For example, a server that accepts a high volume of sensor data and
      queues it for saving, or an operation that re-indexes the data in a server to add a new search parameter. This
      pattern returns a <a href="bundle.html">Bundle Resource</a>.</li>
  </ul>
  <p>
    For now, these patterns are defined in the <a href="https://build.fhir.org/ig/HL7/api-incubator">API
      Incubator</a> while the details are finalised through implementation testing.
  </p>

<h3 id="patterns">Conformance</h3>
<p>
  Operations can declare as part of their definition whether they will be performed synchronously, asynchronously, or either.
  (See <a href="operationdefinition-definitions.html#OperationDefinition.synchronicity">OperationDefinition.synchronicity</a>)
</p>

<p>Systems can also declare whether specific operations or interactions will be handled synchronously, asynchronously, or
a mixture of them with <a href="[%extensions-location%]StructureDefinition-synchronicity-control.html">synchronicity extensions</a> 
in their CapabilityStatements.)
</p>

  [%file newfooter%]
</body>

</html>