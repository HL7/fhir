<!DOCTYPE HTML>

<!--
These elements SHALL always appear in this order. These basic elements shared by all resources come first
in order to support consistent definitions for schema and UML derived code.
-->

[%settitle Diagnostic Medicine Module%]
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    [%file newheader%]
</head>

<body>
    [%file newnavbar%]


    <table class="colsi">
        <tr>
            <td id="wg">Responsible Owner: Work Group <a target="_blank" href="[%wg oo%]">[%wgt oo%]</a></td>
            <td id="ballot"><a href="versions.html#std-process">Standards Status</a>:<!--!ns!--><a
                    href="versions.html#std-process">Informative</a></td>
        </tr>
    </table>

    <a name="root"></a>
    <h2>Diagnostics Module</h2>

    <a name="intro"></a>
    <h3>Introduction</h3>
    <p>
        The Diagnostics Module provides an overview and guide to the FHIR content that addresses ordering and reporting
        of clinical diagnostics including laboratory testing, imaging and genomics.</p>

    <a name="index"></a>
    <h3>Index</h3>
    <p>The Diagnostics module covers the following resources:</p>

    <table style="table-layout: fixed;width:100%">
        <tr>
            <td style="width:33%">
                <ul>
                    <li><a href="observation.html">Observation</a></li>
                    <li><a href="diagnosticreport.html">DiagnosticReport</a></li>
                    <li><a href="documentreference.html">DocumentReference</a></li>
                </ul>
            </td>
            <td style="width:33%">
                <ul>

                    <li><a href="imagingselection.html">ImagingSelection</a></li>
                    <li><a href="imagingstudy.html">ImagingStudy</a></li>
                    <li><a href="https://build.fhir.org/ig/HL7/cg-incubator/StructureDefinition-MolecularDefinition.html">MolecularDefinition</a></li>
                    <li><a href="https://build.fhir.org/ig/HL7/cg-incubator/StructureDefinition-GenomicStudy.html">GenomicStudy</a></li>
                </ul>
            </td>
            <td style="width:33%">
                <ul>
                    <li><a href="imagingselection.html">ImagingSelection</a></li>
                    <li><a href="imagingstudy.html">ImagingStudy</a></li>
                    <li><a href="specimen.html">Specimen</a></li>
                    <li><a href="bodystructure.html">BodyStructure</a></li>
                </ul>
            </td>
        </tr>
    </table>

    <a name="relatedresources"></a>
    <h3>Related Resources and Modules</h3>

    <p>The resources that represent the basic information about a patient and a clinical encounter can be found in the <a href="administration-module.html">Administration Module</a>. 
        Other resources that represent core clinical information generated by healthcare providers during the course of a patient encounter are detailed in the <a href="clinicalsummary-module.html">Clinical Summary Module</a> and the <a href="medications-module.html">Medications Module</a>.</p>

    <p>This conceptual diagram is used to illustrate the common relationships between resources in the diagnostic domain. The arrows represent the direction of the
        references between resources (for example, DiagnosticReport references Specimen or an Observation). See the <a
            href="workflow-module.html">Workflow Module</a> for information about the coordination of activities such as
        ordering and fulfilling of diagnostics using ServiceRequest (exemplified here with a reference) and other request, task, and workflow management resources.</p>
    <div>
        <img src="diagnostic-module-resources.png" alt="Image showing the diagnostic resources" width="1000" />
        <figure>Figure 1: Indicates the FHIR Resources that are involved in Diagnostics.  Note - the blue container is intended to link all Resources inside the box to the resources outside the box.</figure>
    </div>
    
    [%impl-note%]
    See the <a href="genomics.html">Genomics Implementation Guidance</a> for additional information about how to use the
    Diagnostic resources for Clinical Genomic Reporting and Analysis.
    [%end-note%]

    <div>
        <table class="bare">
            <tr>
                <td><b>Name</b></td>
                <td><b>Aliases</b></td>
                <td><b>Description</b></td>
            </tr>
            [%res-item Observation%]
            [%res-item DiagnosticReport%]
            [%res-item ServiceRequest%]
            [%res-item DocumentReference%]
            [%res-item ImagingSelection%]
            [%res-item ImagingStudy%]
            [%res-item Specimen%]
            [%res-item BodyStructure%]
        </table>
        <figure>Table 1: Indicates the FHIR Resources that are involved in Diagnostics.</figure>

        [%impl-note%]
        MolecularSequence resource has been replaced by the <a href="https://build.fhir.org/ig/HL7/cg-incubator/StructureDefinition-MolecularDefinition.html">Molecular Definition</a> resource.
        [%end-note%]
    </div>

    <a name="org-dr-obs"></a>
    <h3>Organizing Related DiagnosticReport and Observation Resources</h3>
    <p>
        Many observations need to be grouped together in some fashion to document the relationships necessary for interpretation of the observations. The methods to do so primarily are through DiagnosticReport using
        DiagnosticReport.result
        and Observation using Observation.component, Observation.hasMember, and Observation.derivedFrom. Note that
        Composition may also be used to organize the content of a diagnostic report (in DiagnosticReport.composition), but that is only for purpose of
        readability,
        not to record the relationships necessary for interpretation.
    </p>
    <p>Note: When an observation is not performed and if this needs to be communicated as part of a reporting, the Observation would be used to document that it was not performed and why.  The DiagnosticReport would include such observation when that documentation was necessary. For more information see <a href="https://build.fhir.org/observation.html#cancelled">Observation</a>.</p>
    <h4>Laboratory Results</h4>
    <p>
        Relationships between observations are important to understand for the following use cases in particular:
    </p>
    <ul>
        <li>Microbiology results relating observations on the identification of the organism(s) with observations of the
            sensitivity results</li>
        <li>Results associated with reflex, repeat, or re-run of tests based on prior result</li>
        <li>Results associated with a follow-up order to a prior order and/or result</li>
        <li>Results associated with an add-on order to the original order</li>
    </ul>
    <p>
        The following describes the recommended approaches on how to use ServiceRequest, Observation, and
        DiagnosticReport to consistently relate the necessary relationships.
    </p>
    <h5>Microbiology</h5>
    <p>
        Microbiology reports include the reporting of the overall culture, individually identified organisms and
        susceptibility results for each identified organism, while reporting additional observations as well such as
        growth and
        quantity/rate. The following summarizes the general relationships of the different components using
        DiagnosticReport and Observation:
    </p>
    <div>
        <img src="parent-child-structure-1.png" alt="Micro Isolate and Susceptibility structure 1" width="1000" />
    </div>
    <p>
        This can be more specifically described in the following diagram identifying the specific resources and
        attributes used to create the relationships using a sample anaerobic culture as the basis for these
        relationships:
    </p>
    <div>
        <img style="padding: 20px;" src="parent-child-structure-2.png"
            alt="Micro Isolate and Susceptibility structure 2" width="1000" />
    </div>
    <p>
        A DiagnosticReport is created using DiagnosticReport.basedOn to reference the ServiceRequest that authorized its
        performance.
    </p>
    <p>
        The initial observation of a the sample anaerobic culture would be recorded as an Observation and linked to
        using DiagnosticReport.result. The Observation would describe presence of none, one or more growths or patterns.
        Other
        results for, e.g., a stain may be reported as well and linked to DiagnosticReport.result.
    </p>
    <p>
        As the growth is identified, an Observation to report the actual organism is created. The actual identification
        may take time and could change. The change history on the Observation will track any changes in organism names.
        Thus the Observation.value may start as unknown and then be updated to reflect the actual identified name. The Observation
        of the initial anaerobic culture references each identified organism using Observation.hasMember, while the
        Observation
        of each organism references the initial ServiceRequest that authorized the tests using Observation.basedOn.
    </p>
    <p>
        Specific observations on each individual organism, e.g., growth and quantity/rate, are recorded as separate
        Observation instances where the Observation of the organism identification links to these observations using
        Observation.hasMember.
    </p>
    <p>
        When susceptibility tests are starting to be performed, an Observation instance is created for the
        Susceptibility Panel, enabling all susceptibility tests to be organized under that Susceptibility Panel. The
        Susceptibility Panel
        Observation is also linked to through the Obervation.hasMember of the identified organism Observation.
    </p>
    <p>
        If a new authorization is required:
        <ul>
            <li>A new ServiceRequest is created which is basedOn the original ServiceRequest; and</li>
            <li>Observation.basedOn points to the new ServiceRequest</li>
        </ul>
    </p>
    <p>
        The individual susceptibility observations are linked to the Susceptibility Panel by the Observation.hasMember
        on the Susceptibility Panel Observation.
    </p>
    <p>
        All Observations either reference the overall Specimen or a Specimen Isolate as appropriate. The Specimen
        Isolate references the Specimen it was isolated from using Specimen.parent.
    </p>
    <p>
        Note that as an Observation is updated, the Observation.id remains the same, but if for some reason a
        replacement needs to be recorded, the Observation.id changes while the Observation.identifier can remain the
        same. For
        observations documenting the progression of identifying the organism, use of a change history is recommended,
        thus keeping
        the Observation.id the same.
    </p>
    <h5>Policy Driven Additional Testing</h5>
    <p>
        Additional testing may be performed based on actual test results, e.g., abnormal results, based on established
        policies, thus not requiring a new order to be placed. The original order must have associated policies to
        permit the
        immediate order of subsequent tests based on specific results. That means that from an ordering provider
        perspective there
        is no need to submit a new order (ServiceRequest) for such subsequent testing. However, the laboratory may
        utilize
        ServiceRequests for any of these tests where it needs to interact with a reference laboratory for such
        subsequent testing.
    </p>
    <p>
        The different types of policy driven additional testing can be:
    </p>
    <ul>
        <li>Reflex – performance of one or more other tests depending on the results of the initial test. This may
            include collection of additional specimen(s)</li>
        <li>Repeat (per policy) – performance of the same test again with the same parameters/settings/solution</li>
        <li>Re-run (per policy) – performance of the same test but with different parameters/settings/solution</li>
    </ul>
    <div>
        <img src="parent-child-structure-3.png" alt="Micro Isolate and Susceptibility structure 3" width="1000" />
    </div>
    <p>
        The DiagnosticReport includes both the initial and additional tests, using the DiagnosticReport.result
        attribute.
    </p>
    <p>
        The Observation.triggeredBy on the additional observation(s) will be valued to the appropriate type (reflex,
        repeat, or re-run) and reference the Observation that it is additional to. The Observation.basedOn contains the
        link to the
        original ServiceRequest that authorized the performance of the additional tests, and may also point to another
        ServiceRequest that was necessary to communicate authorization to a reference lab.
    </p>
    <p>
        Some may opt to report the additional observations in either a separate DiagnosticReport or the original/initial
        DiagnosticReport. The additional DiagnosticReport must then also be linked to the original ServiceRequest using
        DiagnosticReport.basedOn. Note though that the additional observations are then only referenced in the
        additional DiagnosticReport, not the original DiagnosticReport. The additional DiagnosticReport still may
        include the
        original observations that triggered the additional tests.
    </p>
    <h5>Follow-Up Orders/Results</h5>
    <p>
        Follow-up orders are individual requests outside established policy, not authorized through the original order,
        based on the results of a prior test to perform further test(s). There may be reasons that this only requires a
        change/correction to the original ServiceRequest (until any change/correction is not permitted as the processing
        has progressed
        too far), or require a new ServiceRequest. This may depend on whether the additional test can be charged or not.
        It
        furthermore depends on whether the original ordering system permits that ServiceRequest to be changed. The
        intent may also
        be that the original result is amended/appended rather than that a separate, new result is reported. This yields
        the
        need for either an update to the original ServiceRequest or a new ServiceRequest.
    </p>
    <ul>
        <li>Demographic or AOE response change/correction - no re-performance of the test, only new interpretation.</li>
        <li>Repeat Determination/Re-evaluation - that may be questioning the original result and needing a re-evaluation
            that may result in re-run. Include prior specimen number.</li>
        <li>Confirmation/Validation – May be re-run or validation. A re-run out of policy.</li>
    </ul>
    <p>
        This can be mostly handled using the existing ServiceRequest capabilities. We leave it up to future initiatives
        to establish appropriate reasons to enable managing any fulfillment of these requests.
    </p>
    <p>
        Diagnostic reports do not specifically reflect these orders and might or might not include them in one or more
        DiagnosticReport instances.
    </p>
    <h5>Add-On Orders/Results</h5>
    <p>
        When ordering a test involves a specimen, the common understanding is that either a new specimen is drawn or specimen collection is optimized to minimize draws where permitted/appropriate by policy. 
        However, if the ordering provider wants to explicitly use an already existing specimen or a still to be drawn specimen, then an add-on order is placed.
        The intended specimen to use is either indicated explicitly by directly referencing the specimen to be used, or contextually based on the ServiceRequest for which the specimen of interest has been or is about to be collected.
        The servicerequest-specimenSuggestion extension can indicate either of these scenarios, including a fallBackAction in that extension.
    </p>
    <p>
        Conversely, an ordering provider may indicate explicitly to use a new, separate specimen rather than using any
        available or about to be drawn specimen where policy otherwise may push for the optimization of specimen draws reducing
        sticking the
        patient twice. That is not considered an add-on order. But still can be indicated.
    </p>
    <p>
        Either way, the DiagnosticReport would include test results as per normal without any specific relationships
        between the observations.
    </p>

    <h4>Imaging</h4>

    <h5>Representation of DICOM SR measurements using FHIR resources</h5>
    <p>DICOM® Structured Report (DICOM® SR) is a standard for recording clinical imaging observations made regarding a diagnostic or interventional imaging procedure. Imaging Observations are made by humans, such as a sonographer making measurements on recently acquired ultrasound image, a Radiologist recording observations on suspected lesions, or by a machine, such as an automated AI Algorithm providing qualitative and quantitative observations.</p>

    <p>The standards for recording clinical observations, DICOM® SR and HL7 FHIR Observation resource are bridged by the DICOM SR IG by the transformation of the DICOM SR attributes to the HL7 FHIR Observation Resource.</p>

    <b>Example use cases:</b>
    <ul>
        <li>Extracting imaging results for use in reporting.</li>
        <li>Extracting imaging results for FHIRcast content sharing.</li>
    </ul>

    <p>
        <div>
            <img src="diagnostic-module-imaging-fig1.png" alt="Extracting imaging results for use in reporting" width="1000" />
            <figure>Figure 1: Extracting imaging results for use in reporting.</figure>
        </div>
    </p>

    <p>DICOM SR mapping to FHIR is limited to the Observation resource and a small set of related resources. The resultant mapping is provided, as a minimum, a composition or bundle of Observations. Depending on the use case, the observations may be part of or contained in a Diagnostic Report. Use case-specific requirements to construct a diagnostic report(e.g., Mammography) may require the transformation described in the DICOM SR IG. However, the detailed elaboration of those use cases are not in scope in that IG or here in the Diagnostics module.</p>

    <p>
        <div>
            <img src="diagnostic-module-imaging-fig2.png" alt="DICOM SR measurements and finding site represented with FHIR resource profiles" width="750" />
            <figure>Figure 2: DICOM SR measurements and finding site represented with FHIR resource profiles.</figure>
        </div>
    </p>

    <p>The mapping of the core DICOM SR measurement groups, measurements and qualitative analysis content items are covered by the Observation resource profiles, representing various measurements related DICOM SR templates. The Observation resource profiles depend on number of ImagingSelection resource profiles, as shown in Figure 3. FindingSite profiles the BodyStructure resource representing a finding site content item from the DICOM SR templates.</p>

    <p>
        <div>
            <img src="diagnostic-module-imaging-fig3.png" alt="ObservationImagingSelection profiles" width="500" />
            <figure>Figure 3: ObservationImagingSelection profiles.</figure>
        </div>
    </p>

    <a name="uses"></a>
    <h3>Common Use Cases</h3>
    <p>
        Diagnostic resources are commonly used to plan, recommend, order and report clinical diagnostics:
    </p>
    <p><em>NOTE: </em>Other diagnostic resources can be used for associating related <a href="specimen-example-serum.html">specimen</a> or <a href="bodystructure-example-tumor.html">body site</a>.</p>
    <ul>
        <li>Planning a diagnostic test such as in this <a href="careplan-example-f203-sepsis.html">Careplan-example</a>
        </li>
        <li>Recommending diagnostics such as is done by Clinical Decision Support tools. See the <a
                href="clinicalreasoning-module.html">Clinical Reasoning module</a> for more information.</li>
        <li>Ordering a Laboratory Test such as a <a href="servicerequest-example-lipid.html">lipid panel</a></li>
        <li>Reporting a Laboratory Test such as a <a href="diagnosticreport-example-lipid-panel.html">lipid panel</a></li>
        <li>Ordering an imaging study such as a <a href="servicerequest-example-di.html">CT study</a></li>
        <li>Reporting an imaging study such as a <a href="imagingstudy-example.html">CT study</a></li>
    </ul>
    <p>
        There are many ways to use these resources independently as well. The Observation resource, in particular, is
        central to capturing many measurements and events in healthcare and is often used outside the context of
        diagnostic orders and reports.
    </p>
    <ul>
        <li>recording <a href="observation-vitalsigns.html">vital signs</a> such as <a href="observation-example-f202-temperature.html">temperature</a>, <a href="observation-example-bloodpressure.html">blood pressure</a>, <a href="observation-example-respiratory-rate.html">respiratory rate</a>, <a href="observation-example-heart-rate.html">heart rate</a></li>
        <li>recording other observations of a patient's social history such as tobacco use</li>
        <li>recording other characteristics of a patient such as pregnancy status (note: The Condition resource may be
            used to represent these as well)</li>
        <li>recording clinical assessment tool scores such as an <a
                href="observation-example-5minute-apgar-score.html">Apgar score</a>.</li>
    </ul>

    <a name="secpriv"></a>
    <h3>Security and Privacy</h3>
    <p>
        The diagnostic resources often represent patient-specific data, and as such are susceptible to data breaching.
        Necessary privacy and security provisions must be in place when searching and fetching this information. For
        more general considerations, see <a href="secpriv-module.html">the Security and Privacy module</a>.
    </p>


    <a name="related"></a>
    <h3>Related Resources and Modules</h3>
    <p> The resources that represent the basic information about a patient and a clinical encounter can be found in the
        <a href="administration-module.html">Administration Module</a>. Other resources that represent core clinical
        information generated by healthcare providers during the course of a patient encounter are detailed in the <a
            href="clinicalsummary-module.html">Clinical Summary Module</a> and the <a
            href="medications-module.html">Medications Module</a>.
    </p>

    <a name="roadmap"></a>
    <h3>Developmental Roadmap</h3>
    <ul>
        <li>The <em>Observation</em> resource has been tested and used in production tooling and is Normative with some Trial Use elements.  Any further development will follow the rules for Normative resources. Future work will focus on developing core profiles and clarifying use cases and boundaries and providing more domain specific examples.</li>
        <li>The <em>DocumentReference</em> resource has been tested and used in production tooling and has reached maturity level FMM=4.</li>
        <li>The <em>DiagnosticReport</em> resource has been tested and used in production tooling and has reached maturity level FMM=3. Future work will focus on further refinements to the resource, as well as developing core profiles and clarifying use cases and boundaries and providing more domain specific examples.</li>
        <li>The <em>Specimen</em> resource is expected to undergo further development as a focus of ongoing work group efforts. We expect to see more widespread use of this resource which will help to increase its maturity(currently at FMM=2).</li>
        <li>The <em>ImagingStudy</em> resource has been tested and used in production tooling and has reached maturity level FMM=4.</li>
        <li>The <em>ImagingSelection</em> resource is relatively immature at FMM=1 (added in R5). We are looking for implementer feedback to advance its maturity.</li>
        <li>The <em>MolecularDefinition</em> resource is replacing MolecularSequence. It includes definitional content for a molecular entity, such as a nucleotide or protein sequence. This resource is in trial-use and is relatively immature at FMM=0.</li>
        <li>The <em>GenomicStudy</em> resource was introduced in R5. It represents a set of analyses performed to analyze and generate genomic data and is at FMM=1. Further use of this resource in production tooling is needed for it to reach a more stable FMM level.</li>
        <li>The <em>BodyStructure</em> resource is relatively immature at FMM=1. Changes have been made to support greater precision of body location identification based on feedback that has been received, and we expect to receive additional implementation feedback which will help increase the resource maturity level.</li>
    </ul>
    [%file newfooter%]
</body>

</html>