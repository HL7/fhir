<div xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.w3.org/1999/xhtml ../../schema/fhir-xhtml.xsd" xmlns="http://www.w3.org/1999/xhtml">

<div>
<a name="scope"></a>
<h2>Scope and Usage</h2>
<p>
The Provenance resource tracks information about the activity that created, revised, deleted, or signed a version of a resource, describing the entities and agents involved.
This information can be used to form assessments about its quality, reliability, trustworthiness, or to provide pointers for where to go to further investigate the origins of the resource and the information in it. 
</p>
<p>
Provenance resources are a record-keeping assertion that gathers information about the context in which the information in a resource was obtained. 
Provenance resources are prepared by the application that initiates the create/update etc. of the resource.
An <a href="auditevent.html">AuditEvent</a> resource contains overlapping information, but is created as events occur, to track and audit the events. 
AuditEvent resources are often (though not exclusively) created by the application responding to the read/query/create/update/etc. event. 
</p>
</div>

<div>
<a name="bnr"></a>
<h2>Boundaries and Relationships</h2>
<a name="overlap"></a>
<p>
Many other FHIR resources contain some elements that represent information
about how the resource was obtained, and therefore they overlap with the 
functionality of the Provenance resource. These properties in other resources
should always be used in preference to the Provenance resource, and the 
Provenance resource should be used where additional information is required,
or explicit record or provenance is desired. 
Details on this overlap can be found on the <a href="fivews.html">FiveWs</a>, including a mapping from the at the Resource Element level.
</p>
<p>
The relationship between a resource and its provenance is established
by a reference from the provenance resource to its target. In this way,
provenance may be provided about any resource or version, including past
versions. There may be multiple provenance records for a given resource
or version of a resource.
</p>
</div>

<div>
<a name="bnc"></a>
<h2>Background and Context</h2>
<p>
The Provenance resource is based on the <a href="http://www.w3.org/TR/2013/NOTE-prov-overview-20130430/">W3C Provenance specification</a>, 
and mappings are provided. The Provenance resource is tailored to fit the FHIR use-cases for provenance more directly. 
In terms of <a href="http://www.w3.org/TR/prov-dm/">W3C Provenance</a> the FHIR <a href="provenance.html">Provenance resource</a> covers "Generation" of "Entity" with 
respect to FHIR defined resources for creation or updating; 
whereas <a href="auditevent.html">AuditEvent</a> covers "Usage" of "Entity" and all other "Activity" as defined in W3C Provenance.
</p>
<p>
The W3C Provenance Specification has the following fundamental model:
</p>
<p>
<img alt="Key concepts" src="http://www.w3.org/TR/prov-primer/images/key-concepts.png" width="280" height="173" style="float: none; clear: both"/>
</p>
<p>
Where:
</p>
<ul>
<li>Entity - An entity is a physical, digital, conceptual or other kind of thing with some fixed aspects; entities may be real or imaginary. One or more entities can be the input (.entity) of an activity, and one or more entities can be the output (.target).</li>
<li>Agent - An agent is something that bears the responsibility identified by the type of participation in the activity taking place, for the existence of an entity, or for another agent's activity. An Agent may be a person, device, system, organization, group, care-team, or identifiable thing.</li>
<li>Activity - An activity is something that occurs over a time period and acts upon or with entities. It may include consuming, processing, transforming, modifying, relocating, using, or generating entities.</li>
</ul>
<p>
The Provenance resource corresponds to a single activity that identifies a set of resources (<i>target</i>) generated by the activity.
The activity also references other entities (<i>entity</i>) that were used and the agents (<i>agent</i>) that were associated with the activity. 
To record multiple activities that resulted in one (<i>target</i>), record each (<i>activity</i>) in independent Provenance records all pointing at that (<i>target</i>).
</p>
<p>
The Provenance resource depends upon having References to all the resources, entities, and agents involved in the 
activity. These References need not be resolvable. The references must provide a unique and unambiguous identification. 
If a resource, entity, or agent can have different versions that must be identified, then the Reference must have 
versioning information included.
</p><p>
Versioning and unique identification are not mandated for all systems that provide Resources, entities, and agents. 
But, inclusion of Provenance requirements may introduce requirements for versioning and unique identification on those systems
</p><p>
The Provenance resource is based on leveraging the W3C Provenance specification  to represent HL7 support of provenance throughout 
its standards and explicitly modeled as functional capabilities in ISO/HL7 10781 EHR System Functional Model Release 2 and 
ISO 21089 Trusted End-to-End Information Flows.  Mappings are provided. The Provenance resource is tailored to fit the 
FHIR use-cases for provenance more directly. In terms of W3C Provenance the FHIR Provenance resources 
covers "Generation" of "Entity" with respect to FHIR defined resources for creation or updating; whereas AuditEvent 
covers "Usage" of "Entity" and all other "Activity" as defined in W3C Provenance. 
</p>
</div>

</div>

