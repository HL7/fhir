<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

       <!--
       Post DSTU concerns:
        - notification
        - person
        - clinical observations / vital signs
        - appointment
		- charge posting vehicle (e.g. Account)
        - query definition
        - split profile up? 
        - expand partitions?
        - profile /Mailbox
        - advance care directive / power of attorney
        - alarm
        
        - support for skype consultation
       -->
      
[%settitle FHIR Change History%]
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
[%file newheader%]
</head>
<body>
[%file newnavbar%]

<!---

Todo:
US extensions
Lloyds examples
extension url definition in profile


 -->
<div class="col-9">

<a name="root"> </a>
<h2>FHIR Change History</h2>
<p>
Changes from the DSTU ballot (v0.11) to the DSTU final copy (0.20?):
</p>
<h3>Infrastructure</h3>
<ul>
 <li><a href="references.html">Resource References</a>: 
   <ul><li>make a rule that any contained resources must be explicitly referred to from other content in the resource</li>
   <li>remove "type" element - it had no actual function</li></ul></li>   
 <li><a href="extras.html#bundles">Bundles</a>:
   <ul><li>add the "fhir-base" link that SHALL be present if relative references are found in the bundle</li>
   <li>Documents &amp; Messages: document that these are marked with tags to identify them</li></ul></li>
 <li><a href="extras.html#tags">Tags</a>:
   <ul><li>Add defined security tags (labels), including some common security labels</li>
   <li>Added Profile tags, and explained how they are used for validatio</li></ul></li>
 <li><a href="extensiblity.html">Extensions</a>:
   <ul><li>make rules around obligations for exchange</li>
   <li>Split out extensions and modifierExtensions</li></ul></li>
 <li><a href="json.html">JSON</a>:
   <ul><li>rename "_id" to "id"</li>
   <li>change the way that primitive types are represented (split id and extension out into _[name])</li>
   <li>change the way bundles and resources are represented at the base ("_type" property)</li></ul></li>
 <li><a href="http.html">REST API</a>:
  <ul><li>The syntax of the URLs has changed (remove @ from the ids)</li>
  <li>resources are no longer returned on create/update/transaction</li>
  <li>rules around the transction response have changed</li>
  <li><a href="http://enable-cors.org/">CORS</a> is now recommended (and in the conformance resource)</li></ul></li>
 <li><a href="query.html">Searching</a>:
   <ul><li>clarify that searching is not just for rest</li>
   <li>Extend _sort parameter</li>
   <li>Add relevance score, and sorting by that</li>
   <li>Remove the text parameter type, and add search parameters _text and _content</li>
   <li>Add _profile parameter</li>
   <li>Remove token modifiers :code and :anyns, and update documentation</li>
   <li>Remove date modifiers and use &lt; etc. Define escaping for search parameters</li>
   <li>Change "integer" type to "number"</li></ul></li>
 <li>/mailbox: allowed queries as well as messages and documents</li>
 <li><a href="terminologies-systems.html">Terminologies</a>: added several new terminologies, and changed the URI for SNOMED CT at the request of IHTSDO</li>
 <li>The following pages have been rewritten (Editorial changes only): "<a href="resources.html">Resource Definitions</a>", "<a href="terminologies.html">Using codes</a>" and the <a href="overview.html">overview page</a></li>
 <li><a href="datatypes.html">Data Types</a>:
  <ul><li>Choice: remove choice and add Coding.valueset</li>
  <li>CodeableConcept: move primary to Coding.primary</li>
  <li>Coding: add primary, valueset and version &amp; align code system version rules with core principles</li>
  <li>Narrative: Changed the styles that can be used by authoring systems, and the obligations on rendering systems</li></ul></li>
</ul>

<h3>Conformance Related Changes</h3>
<ul>
 <li><a href="conformance-rules.html">Document conformance rules</a> more extensively</li>
 <li><a href="conformance.html">Conformance</a>:
  <ul><li>Add Conformance.profile</li>
   <li>Move system operations to rest.operations from rest.resource.operations, &amp; add updateCreate and versionSpecificUpdates flags</li>
   <li>Add note about Content-Location header</li>
   <li>Add mailbox for documents profiles</li></ul></li>
 <li><a href="valueset.html">ValueSet</a>: 
   <ul><li>add define.version</li>
   <li>a new constraint that codes must be unique in the definition space</li>
   <li>tighten up publication (maps and cross links, expansions, deal with poly-heirarchies &amp; deprecated codes, publish all v3 code systems, map the data types)</li>
   <li>add more uniqueness variants</li>
   <li>tighten notes around imported value sets</li></ul></li>
 <li><a href="profile.html">Profile</a>: 
   <ul><li>Remove the concept of re-useable bindings, and collapse binding in line to element definition</li>
   <li>Change definition.type.bundled to definition.type.aggregation, and add more invariants about uniqueness</li>
   <li>Introduce a Map declaration element</li></ul></li>
 <li><a href="conceptmap.html">ConceptMap</a>: added Informative ConceptMap resource</li>
 <li>Also, harmonize the search parameters for the metadata parts of Conformance, Profile, ValueSet, and ConceptMap</li>
</ul>


<h3>Resources</h3>
<ul>
 <li>General Changes:
   <ul><li>Standardised identifiers: AdverseReaction, AllergyIntolerance, CarePlan, Condition, FamilyHistory, Procedure, Questionnaire all have identifier 0..*</li> 
   <li>Change the following fields from string|CodeableConcept to just CodeableConcept: Encounter.reason, MedicationDispense.dispense.dosage.additionalInstructions, MedicationPrescription.reasonForPrescribing, MedicationPrescription.dosageInstruction.additionalInstructions</li></ul></li>
 
 <li><a href="alert.html">Alert</a>:
  <ul><li>improved the definitional documentation</li> </ul></li>
 <li><a href="careplan.html">CarePlan</a>:
  <ul><li>made patient optional</li>
   <li>reworked to link activities to goals and goals to concerns, and allow other resource kinds for activities</li></ul></li>
 <li><a href="condition.html">Condition</a>:
  <ul><li>several changes around relatedItem</li></ul></li>
 <li>Coverage:
  <ul><li>resource has been removed</li></ul></li>
 <li><a href="composition.html">Document</a>:
  <ul><li>Renamed the Document resource to "Composition"</li>
   <li>revised status list per o-o analysis of reporting cycles</li>
   <li>renamed sub-Type to "class" and updated definitions accordingly</li>
   <li>changed the value set for confidentiality</li>
   <li>changed the type of .replaces, and the code set for Document.status has changed</li>
   <li>and made obligations around the handling of retracted documents more clear</li>
   <li>Add Location as an allowed subject target</li></ul></li>
 <li><a href="documentmanifest.html">DocumentManifest</a>:
  <ul><li>added this from scratch to round out XDS support</li></ul></li>
 <li><a href="documentereference.html">DocumentReference</a>:
  <ul><li>aligned definitions more closely with XDS</li>
   <li>Worked over the XDS Profile</li>
   <li>Add _query=generate for DocumentReferences</li>
   <li>Changed the value set for Confidentiality and format codes</li></ul></li>
 <li><a href="encounter.html">Encounter</a>:
   <ul><li>Allow RelatedPersons to be participants in an encounter and changed type of participation to CodeableConcept</li>
   <li>Added discharge diagnosis to the Hospitalization element</li></ul></li>
 <li><a href="familyhistory.html">FamilyHistory</a>:
  <ul><li>change the value set for relation type to use the v3 value set directly</li></ul></li>
 <li><a href="imagingstudy.html">ImagingStudy</a>:
  <ul><li>add link to DiagnosticOrder. Trim mappings to DICOM. Limit URL to WADO-RS only (not WADO)</li></ul></li>
 <li><a href="immunizationprofile.html">ImmunizationProfile</a>:
  <ul><li>rename to ImmunizationRecommendation</li></ul></li>
 <li><a href="location.html">Location</a>:
  <ul><li>Scope of Resource now also covers devices like freezers and incubators</li>
  <li>Added a 'mode' to indicate Location instances or kinds</li>
  <li>Split the existing element 'type' into 'type' (type of service provided) and 'physicalType' (physical form of the location)</li>
  <li>A new 'status' element has replaced the boolean 'active', allowing for more values rather than true or false</li></ul></li>
 <li><a href="message.html">Message</a>:
  <ul><li>rename the resource to "MessageHeader" and make the event code a Coding (also in the conformance statement too)</li> </ul></li>
 <li><a href="organisation.html">Organizaiton</a>:
  <ul><li>Can now refer to 0..* Locations where it provides services</li></ul></li>
 <li><a href="patient.html">Patient</a>:
  <ul><li>Add Link structure to support typed, unidirectional links between Patient records</li>
  <li>Added careProvider 0..* to express the nominated care providers, renamed "provider" to "managingOrganization"</li>
  <li>Added a Patient link and unlink messages</li></ul></li>
 <li><a href="practitioner.html">Practitioner</a>:
  <ul><li>Can now refer to 0..* Locations where the practitioner provides services</li></ul></li>
 <li><a href="procedure.html">Procedure</a>:
  <ul><li>made type a required element</li>
   <li>changed type and cardinality for indications and complications</li>
   <li>several changes around relatedItem</li>
   <li>updated definition of procedure</li></ul></li>
 <li><a href="questionnaire.html">Questionnaire</a>:
  <ul><li>Added support for nested questions</li>
   <li>new status codes</li>
   <li>support for ordered answer values</li></ul></li>
</ul>

<h3>Reference implementations</h3>
<ul>
 <li>Java: all changes as implied by above changes, and
   <ul> 
    <li>todo</li> 
   </ul>
 </li>
 <li>C#: all changes as implied by above changes, and
   <ul> 
    <li>Additional metadata attributes to facilitate validation, parsing and dynamic client/server behaviour</li>
    <li>Hl7.Fhir.Model dll now only contains the generated model classes. Parsing, serialization and client support has been moved out to a separate open-source library at <a href="http://github.com/ewoutkramer/fhir-net-api">http://github.com/ewoutkramer/fhir-net-api</a></li> 
   </ul>
 </li>
 <li>Pascal: all changes as implied by above changes, and
   <ul> 
    <li>Fill out download with all dependent libraries</li>
    <li>Release full server at <a href="http://github.com/grahamegrieve/fhirserver">http://github.com/grahamegrieve/fhirserver</a></li>
   </ul>
 </li>
</ul>


</div>

[%file newfooter%]
    
    
</body>
</html>
